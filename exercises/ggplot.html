<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Clara Baudry, Nathan Randriamanana">

<title>Introduction to quantitative methods with  - Data visualisation with  and ggplot2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.9/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/plotly-binding-4.12.0/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.25.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.25.2/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta name="twitter:title" content="Introduction to quantitative methods with  - Data visualisation with  and ggplot2">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://r-intro.openteachinglab.io/cards/version-light/baby.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Introduction to quantitative methods with <i class="fa-brands fa-r-project" aria-label="r-project"></i></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../exercises/r-base.html" rel="" target="">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-manipulate-data" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Manipulate data</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-manipulate-data">    
        <li>
    <a class="dropdown-item" href="../exercises/r-wrangling.html" rel="" target="">
 <span class="dropdown-text">Importing and manipulating data with <i class="fa-brands fa-r-project" aria-label="r-project"></i></span></a>
  </li>  
        <li class="dropdown-header">exercises/geospatial-wrangling.qmd</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-visualize" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Visualize</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-visualize">    
        <li>
    <a class="dropdown-item" href="../exercises/ggplot.html" rel="" target="">
 <span class="dropdown-text">Data visualisation with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <code>ggplot2</code></span></a>
  </li>  
        <li class="dropdown-header">exercises/cartography.qmd</li>
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-communicate" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Communicate</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-communicate">    
        <li>
    <a class="dropdown-item" href="../exercises/quarto.html" rel="" target="">
 <span class="dropdown-text">Reproducible report generation with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <code>Quarto</code></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-evaluation" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Evaluation</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-evaluation">    
        <li class="dropdown-header">exercises/eval.qmd</li>
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/linogaliana/r-geographie" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data" id="toc-data" class="nav-link active" data-scroll-target="#data"><span class="header-section-number">1</span> Data</a></li>
  <li><a href="#initial-graphical-outputs" id="toc-initial-graphical-outputs" class="nav-link" data-scroll-target="#initial-graphical-outputs"><span class="header-section-number">2</span> Initial graphical outputs</a></li>
  <li><a href="#first-temporal-aggregation" id="toc-first-temporal-aggregation" class="nav-link" data-scroll-target="#first-temporal-aggregation"><span class="header-section-number">3</span> First temporal aggregation</a></li>
  <li><a href="#first-time-series" id="toc-first-time-series" class="nav-link" data-scroll-target="#first-time-series"><span class="header-section-number">4</span> First time series</a></li>
  <li><a href="#introduction-to-html-plots-with-plotly" id="toc-introduction-to-html-plots-with-plotly" class="nav-link" data-scroll-target="#introduction-to-html-plots-with-plotly"><span class="header-section-number">5</span> Introduction to HTML plots with <code>Plotly</code></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data visualisation with <i class="fa-brands fa-r-project" aria-label="r-project"></i> and <code>ggplot2</code></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Clara Baudry, Nathan Randriamanana </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="badge">
<p><a href="https://datalab.sspcloud.fr/launcher/ide/rstudio?name=BoS-Lesotho-rstudio&amp;autoLaunch=false&amp;networking.user.enabled=true" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/Tester%20via%20SSP%20cloud%20-%20SSPCloud?logo=R&amp;labelColor=black&amp;color=%231965b8" alt="Onyxia"></a><br></p>
</div>
<details>
<summary>
Check out the <em>slides</em> below or <a href="../slides/ggplot.html">click here</a> to view the slides in full screen.
</summary>
<div class="sourceCode" id="cb1"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><iframe class="sourceCode yaml code-with-copy" src="/slides/ggplot.html"></iframe></div>
</details>
<p>In this practical session, We will learn how to create synthetic graphical representations with <i class="fa-brands fa-r-project" aria-label="r-project"></i>, which is very well equipped for this task thanks to the <code>ggplot2</code> library. This library implements a <a href="https://fr.wikibooks.org/wiki/Programmer_en_R/Comprendre_la_grammaire_des_graphiques">grammar of graphics</a> that is flexible, consistent, and easy to use.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Some code examples have annotations on the side; hover your mouse over them to display the notes, like below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1">1</button><button class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1">1</button><span id="annotated-cell-1-1" class="code-annotation-target"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a><span class="st">"An explanatory note accompanies me on the right"</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-annotation="1" data-code-lines="1">I appear when you hover your mouse over me üê≠ !</span>
</dd>
</dl>
</div>
</div>
</div>
</div>
<p>In this course, the practice of visualization will involve replicating charts found on the Paris <em>Open Data</em> page <a href="https://opendata.paris.fr/explore/dataset/comptage-velo-donnees-compteurs/dataviz/?disjunctive.id_compteur&amp;disjunctive.nom_compteur&amp;disjunctive.id&amp;disjunctive.name">here</a>.</p>
<p>This practical session aims to introduce:</p>
<ul>
<li>Mainly the <a href="https://ggplot2.tidyverse.org/"><code>ggplot2</code></a> package for creating static plots;</li>
<li>The <a href="https://plotly.com/r/"><code>plotly</code></a> package for interactive HTML plots. We will deepen our knowledge of HTML plots in a later chapter using <a href="https://observablehq.com/"><code>Observable</code></a>.</li>
</ul>
<p>In this chapter, we will use the following libraries:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, we will see how to easily create maps in equivalent formats.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Being able to create interesting data visualizations is an essential skill for any <em>data scientist</em> or researcher. To improve the quality of these visualizations, it is recommended to follow some advice given by data visualization specialists on graphical semiology.</p>
<p>Good data visualizations, such as those in the <em>New York Times</em>, rely not only on appropriate tools (JavaScript libraries) but also on certain rules of representation that allow the message of a visualization to be understood in seconds.</p>
<p>This <a href="https://blog.datawrapper.de/text-in-data-visualizations/">blog post</a> is a useful resource to consult regularly. This <a href="https://albert-rapp.de/posts/ggplot2-tips/10_recreating_swd_look/10_recreating_swd_look">blog post by Albert Rapp</a> demonstrates how to gradually build a good data visualization.</p>
</div>
</div>
<section id="data" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="data"><span class="header-section-number">1</span> Data</h2>
<p>A subset of <a href="https://opendata.paris.fr/explore/dataset/comptage-velo-donnees-compteurs/information/?disjunctive.id_compteur&amp;disjunctive.nom_compteur&amp;disjunctive.id&amp;disjunctive.name">Paris Open Data</a> has been made available to facilitate import.<br>
It is an extraction, somewhat dated, of the original dataset where only the columns used in this exercise have been retained.</p>
<p>We propose downloading these data and saving them to a local file before importing them<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. However, we will not do this manually but rather use <i class="fa-brands fa-r-project" aria-label="r-project"></i>. Doing this manually would be bad practice in terms of reproducibility.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-3"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-3-1"><a href="#annotated-cell-3-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://minio.lab.sspcloud.fr/projet-formation/diffusion/python-datascientist/bike.csv"</span></span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-3" data-target-annotation="1">1</button><span id="annotated-cell-3-2" class="code-annotation-target"><a href="#annotated-cell-3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(url, <span class="st">"bike.gz"</span>, <span class="at">mode =</span> <span class="st">"wb"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-3" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-3" data-code-annotation="1" data-code-lines="2">The <code>.gz</code> extension is important because <code>readr</code> needs it to understand that the file is compressed.</span>
</dd>
</dl>
</div>
</div>
</section>
<section id="initial-graphical-outputs" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="initial-graphical-outputs"><span class="header-section-number">2</span> Initial graphical outputs</h2>
<p>Trying to produce a perfect visualization on the first attempt is unrealistic. It is more realistic to gradually improve a graphic representation to highlight structural effects in a dataset step by step.</p>
<p>We will therefore start by representing the distribution of traffic at the main measurement stations.<br>
To do this, we will quickly produce a <em>barplot</em> and then improve it gradually.</p>
<p>In this section, we will reproduce the first two charts from the <a href="https://opendata.paris.fr/explore/dataset/comptage-velo-donnees-compteurs/dataviz/?disjunctive.id_compteur&amp;disjunctive.nom_compteur&amp;disjunctive.id&amp;disjunctive.name">data analysis page</a>: <em>The 10 counters with the highest hourly average</em> and <em>The 10 counters with the highest total counts</em>. The numeric values in the plots will differ from those on the online page, which is normal because we are working with older data.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 1: Import the data and produce an initial plot
</div>
</div>
<div class="callout-body-container callout-body">
<p>The data contains several dimensions suitable for statistical analysis. Therefore, it is necessary first to summarize them with aggregations to create a readable plot.</p>
<ol type="1">
<li>Import the bike counter data from the <code>bike.gz</code> file;</li>
<li>Keep the ten counters with the highest average;</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(<span class="st">"bike.gz"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>   dplyr<span class="sc">::</span><span class="fu">rename</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">counter_id</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Identifiant du compteur</span><span class="st">`</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Counter name</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Nom du compteur</span><span class="st">`</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">counting_site_id</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Identifiant du site de comptage</span><span class="st">`</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">counting_site_name</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Nom du site de comptage</span><span class="st">`</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Comptage horaire</span><span class="st">`</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Counting date and time</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Date et heure de comptage</span><span class="st">`</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">counting_site_installation_date</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Date d'installation du site de comptage</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
The 10 main stations after step 2
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 2
  `Counter name`                       `Hourly count`
  &lt;chr&gt;                                         &lt;dbl&gt;
1 Totem 73 boulevard de S√©bastopol S-N           197.
2 Totem 73 boulevard de S√©bastopol N-S           148.
3 89 boulevard de Magenta NO-SE                  144.
4 Totem 64 Rue de Rivoli O-E                     140.
5 102 boulevard de Magenta SE-NO                 137.
6 72 boulevard Voltaire NO-SE                    124.</code></pre>
</div>
</div>
</details>
<p>We can now focus on producing the graphic</p>
<ol start="3" type="1">
<li>First, without worrying about style or aesthetics, create the basic structure of the <em>barplot</em> from the <a href="https://opendata.paris.fr/explore/dataset/comptage-velo-donnees-compteurs/dataviz/?disjunctive.id_compteur&amp;disjunctive.nom_compteur&amp;disjunctive.id&amp;disjunctive.name">data analysis page</a>:</li>
</ol>
<details>
<summary>
Initial figure without style
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df1, <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="at">x =</span> <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<p>The next step is to gradually improve this representation to reproduce the version on the Paris Open Data page. The goal is to make it understandable in broad terms before focusing on aesthetics.</p>
<ol start="4" type="1">
<li>First, reorder the bars on the y-axis using the <code>reorder</code> function. This makes the figure‚Äôs message more readable.</li>
</ol>
<details>
<summary>
Figure with reordered bars
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-5"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-5-1"><a href="#annotated-cell-5-1" aria-hidden="true" tabindex="-1"></a>figure1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df1,</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="1">1</button><span id="annotated-cell-5-2" class="code-annotation-target"><a href="#annotated-cell-5-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">reorder</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>),</span>
<span id="annotated-cell-5-3"><a href="#annotated-cell-5-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)</span>
<span id="annotated-cell-5-4"><a href="#annotated-cell-5-4" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="annotated-cell-5-5"><a href="#annotated-cell-5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>)</span>
<span id="annotated-cell-5-6"><a href="#annotated-cell-5-6" aria-hidden="true" tabindex="-1"></a>figure1</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-5" data-code-annotation="1" data-code-lines="2">Reorder <code>Counter Name</code> according to <code>Hourly Count</code></span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<ol start="5" type="1">
<li>Modify the aesthetic layer to apply a red color to all bars</li>
</ol>
<details>
<summary>
Figurewith red bars
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-6"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-6-1"><a href="#annotated-cell-6-1" aria-hidden="true" tabindex="-1"></a>figure1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df1,</span>
<span id="annotated-cell-6-2"><a href="#annotated-cell-6-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">reorder</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>),</span>
<span id="annotated-cell-6-3"><a href="#annotated-cell-6-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">x =</span> <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)</span>
<span id="annotated-cell-6-4"><a href="#annotated-cell-6-4" aria-hidden="true" tabindex="-1"></a>       ) <span class="sc">+</span></span>
<span id="annotated-cell-6-5"><a href="#annotated-cell-6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"red"</span>)</span>
<span id="annotated-cell-6-6"><a href="#annotated-cell-6-6" aria-hidden="true" tabindex="-1"></a>figure1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
</div>
</div>
<p>We now have a representation that starts to convey a message about the data. However, there are still problematic elements (e.g., labels) as well as missing or incorrect elements (axis titles, chart title, etc.).</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise 2: Adding some style
</div>
</div>
<div class="callout-body-container callout-body">
<p>The figure now conveys a message but is still hard to read.</p>
<ol type="1">
<li>At a minimum, label the axes so someone unfamiliar with the data can understand the chart. Use the same axis labels as in the original figure.</li>
</ol>
<details>
<summary>
Figure with labeled axes
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-1-1"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a>figure1 <span class="ot">&lt;-</span> figure1 <span class="sc">+</span> <span class="fu">labs</span>(</span>
<span id="annotated-cell-1-2"><a href="#annotated-cell-1-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"The 10 counters with the highest hourly average"</span>,</span>
<span id="annotated-cell-1-3"><a href="#annotated-cell-1-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="st">"Counter name"</span>,</span>
<span id="annotated-cell-1-4"><a href="#annotated-cell-1-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="st">"Hourly average"</span></span>
<span id="annotated-cell-1-5"><a href="#annotated-cell-1-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="annotated-cell-1-6"><a href="#annotated-cell-1-6" aria-hidden="true" tabindex="-1"></a>figure1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl>
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-annotation="1" data-code-lines="1">The simplest way to label axes in <code>ggplot</code> is with the <code>labs</code> function.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<ol start="2" type="1">
<li>The gray background, while characteristic of a <code>ggplot2</code> figure, is not very polished. Use a more minimal theme to have a white background.</li>
</ol>
<details>
<summary>
Figure with white background
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>figure1 <span class="ot">&lt;-</span> figure1 <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>figure1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<ol start="3" type="1">
<li>Next, focus on aesthetic elements. As this is slightly more advanced, we provide the code to update your figure with the following style elements:</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">theme</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"red"</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"red"</span>),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<details>
<summary>
Figure after styling
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>figure1 <span class="ot">&lt;-</span> figure1 <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"red"</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"red"</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>figure1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ol start="4" type="1">
<li>Finally, add complexity to the plot by placing numbers on the bars. Using this <a href="https://stackoverflow.com/questions/67767859/adding-text-on-each-bar-in-horizontal-bar-plot-in-ggplot2-geom-area">post</a>, add the mean hourly counts as in the Paris Open Data figure<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>figure1 <span class="ot">&lt;-</span> figure1 <span class="sc">+</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label=</span><span class="fu">round</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">position=</span><span class="fu">position_dodge</span>(<span class="at">width=</span><span class="fl">0.9</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust=</span><span class="sc">-</span><span class="fl">0.5</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</div>
</div>
<p>This shows that Boulevard de S√©bastopol is the busiest, which will not surprise anyone cycling in Paris. If you are not familiar with Parisian geography, additional visualizations, such as a map, will be needed in a later chapter.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>figure1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ggplot_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">The 10 counters with the highest hourly average</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercice 3: produce a new figure
</div>
</div>
<div class="callout-body-container callout-body">
<p>Repeat the process for figure 2 (<em>‚ÄúThe 10 counters with the highest total counts‚Äù</em>), to create a similar chart.</p>
<details>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a horizontal bar plot</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>figure2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df2, <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">reorder</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>), <span class="at">x =</span> <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"forestgreen"</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"The 10 counters that recorded the most bicycles"</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Name of the counter"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"The total number of bikes recorded during the selected period"</span>) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"forestgreen"</span>),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<summary>
Figure 2 a the end of the exercise
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>figure2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
</div>
</div>
<p>Barplots are extremely common, but from a semiology perspective, <em>lollipop charts</em> are preferable: they convey the same information with less visual noise (the bar widths in barplots can obscure information).</p>
<p>Here is an example of the second figure rendered as a <em>lollipop chart</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df2_lollipop <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x =</span>  <span class="fu">fct_reorder</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span> ), <span class="at">y =</span> <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>figure2_lollipop <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df2_lollipop, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend=</span>x, <span class="at">yend=</span><span class="dv">0</span>), <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size=</span><span class="dv">5</span>, <span class="at">color=</span><span class="st">"forestgreen"</span>) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"The 10 counters that recorded the most bicycles"</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Name of the counter"</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"The total number of bikes recorded during the selected period"</span>)  <span class="sc">+</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"forestgreen"</span>),</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>)) <span class="sc">+</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> <span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>, <span class="at">scale=</span><span class="fl">1e-6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>figure2_lollipop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<details>
<summary>
Comparison of <em>barplot</em> and <em>lollipop chart</em>
</summary>
<div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>figure2</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>figure2_lollipop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ggplot_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Barplot</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ggplot_files/figure-html/unnamed-chunk-20-2.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Lollipop</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p>Choose your preferred representation</p>
</div>
</div>
</div>
</div>
</details>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercice 3 bis (optional): Produce a <em>lollipop</em> chart
</div>
</div>
<div class="callout-body-container callout-body">
<p>Redo exercise 2, but instead of a <em>barplot</em>, produce a <em>lollipop chart</em>.</p>
</div>
</div>
</section>
<section id="first-temporal-aggregation" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="first-temporal-aggregation"><span class="header-section-number">3</span> First temporal aggregation</h2>
<p>We now focus on the spatial dimension of the dataset using two approaches:</p>
<ul>
<li>A bar chart summarizing the data monthly;</li>
<li>Time series illustrating temporal dynamics (next section).</li>
</ul>
<p>To start, reproduce the third figure, again a <em>barplot</em>. The first step introduces time data and involves a common operation in time series: changing the date format to allow aggregation at a larger time interval.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercice 4: monthly count barplot
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Use the <code>format</code> function to create a <code>month</code> variable in the <code>YYYY-MM</code> format ;</li>
<li>Compute the mean hourly counts for each month</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">month =</span> <span class="fu">format</span>(<span class="st">`</span><span class="at">Counting date and time</span><span class="st">`</span>, <span class="st">"%Y-%m"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Question 2</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>monthly_hourly_count <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
Hourly counts obtained after this step
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>monthly_hourly_count</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 √ó 2
   month   value
   &lt;chr&gt;   &lt;dbl&gt;
 1 2019-08  33.6
 2 2019-09  55.8
 3 2019-10  49.9
 4 2019-11  36.0
 5 2019-12  67.9
 6 2020-01  66.1
 7 2020-02  43.2
 8 2020-03  29.4
 9 2020-04  12.5
10 2020-05  54.6
11 2020-06  85.0
12 2020-07  80.7
13 2020-08  53.2
14 2020-09  98.3</code></pre>
</div>
</div>
</details>
<p>Apply previous recommendations to gradually construct and improve a chart similar to the third figure on the Paris <em>Open Data</em> page.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>figure3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(monthly_hourly_count) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> value), <span class="at">fill =</span> <span class="st">"#ffcd00"</span>, <span class="at">stat =</span> <span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Date and time of count"</span>, <span class="at">y =</span> <span class="st">"Average hourly count per month</span><span class="sc">\n</span><span class="st">over the selected period"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Average monthly bicycle counts"</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"#ffcd00"</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
Example figure reproducing Paris <em>Open Data</em>
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>figure3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<ul>
<li>Optional: represent the same information as <em>lollipop</em> chart</li>
</ul>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>figure3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>If you rather present this with a <em>lollipop</em><a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> chart:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(monthly_hourly_count, <span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> month, <span class="at">yend =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color=</span><span class="st">"#ffcd00"</span>, <span class="at">size=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Counting date and time"</span>, <span class="at">y =</span> <span class="st">"Average hourly count per month</span><span class="sc">\n</span><span class="st">over the selected period"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Average monthly bicycle counts"</span>) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">#axis.title.y = element_text(color = "#ffcd00", face = "bold"),</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="first-time-series" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="first-time-series"><span class="header-section-number">4</span> First time series</h2>
<p>Time series visualizations are more common for data with a temporal dimension.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercice 5: Time series representation
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Create a <code>day</code> variable converting timestamps to daily format (e.g.&nbsp;<code>2021-05-01</code>).</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">day =</span> <span class="fu">date</span>(<span class="st">`</span><span class="at">Counting date and time</span><span class="st">`</span>))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>daily_average <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(day) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">value =</span> <span class="fu">mean</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Plot this as a time series without worrying about styling;</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>figure4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(daily_average, <span class="fu">aes</span>(<span class="at">x =</span> day, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"magenta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
Figure minimaliste
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>figure4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<ol start="3" type="1">
<li>Fill the area under the line using the appropriate function;</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>figure4 <span class="ot">&lt;-</span> figure4 <span class="sc">+</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">fill=</span><span class="st">"magenta"</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
Figure avec la coloration sous la ligne
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>figure4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<ol start="4" type="1">
<li>Finalize the plot to reproduce the Paris <em>Open Data</em> figure;</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>figure4 <span class="ot">&lt;-</span> figure4 <span class="sc">+</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Counting date and time (Day)"</span>, <span class="at">y =</span> <span class="st">"Average hourly count per day</span><span class="sc">\n</span><span class="st">over the selected period"</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Average daily bicycle counts"</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"cm"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
Figure with filled area
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>figure4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</details>
<p>Some hints for this exercise</p>
<details>
<summary>
üí° Hint for question 1
</summary>
Look up the <code>day</code> function of the <code>lubridate</code> <em>package</em>
</details>
<details>
<summary>
üí° Hint for question 1
</summary>
<a href="https://stackoverflow.com/questions/28730083/filling-in-the-area-under-a-line-graph-in-ggplot2-geom-area">This <code>stackoverflow</code> <em>thread</em></a> might help you out.
</details>
<details>
<summary>
Data for Figure 4
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(daily_average)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 2
  day        value
  &lt;date&gt;     &lt;dbl&gt;
1 2019-08-01  46.7
2 2019-08-02  40.0
3 2019-08-03  30.7
4 2019-08-04  28.9
5 2019-08-05  36.0
6 2019-08-06  29.9</code></pre>
</div>
</div>
</details>
</div>
</div>
<p>After this exercise, the figure will look like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>figure4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ggplot_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="introduction-to-html-plots-with-plotly" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="introduction-to-html-plots-with-plotly"><span class="header-section-number">5</span> Introduction to HTML plots with <code>Plotly</code></h2>
<p>The drawback of <code>ggplot</code> figures is that they are not interactive. All information must be included in the plot, which can make it harder to read. If well done, a multi-level information plot can still work.</p>
<p>With web technologies, it is easier to offer multi-level visualizations: a first glance conveys the main message, and the user can explore additional details interactively. Interactive visualizations, now standard in dataviz, allow the reader to hover for more information or click to reveal additional details.</p>
<p>These visualizations rely on the web triptych: <code>HTML</code>, <code>CSS</code>, and <code>JavaScript</code>. <i class="fa-brands fa-r-project" aria-label="r-project"></i> users do not manipulate these languages directly, but use R libraries that automatically generate the necessary code.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercice 6: interactive time series
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Create a basic <code>Plotly</code> figure representing figure 4 as a time series without worrying about style.</li>
</ol>
<details>
<summary>
Time series figure without styling
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  daily_average, <span class="at">x =</span> <span class="sc">~</span>day, <span class="at">y =</span> <span class="sc">~</span>value,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-1dbd45b30675e0d1b953" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-1dbd45b30675e0d1b953">{"x":{"visdat":{"6d951c731bee":["function () ","plotlyVisDat"]},"cur_data":"6d951c731bee","attrs":{"6d951c731bee":{"x":{},"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"day"},"yaxis":{"domain":[0,1],"automargin":true,"title":"value"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22"],"y":[46.661835748792271,39.979629629629628,30.704629629629629,28.925000000000001,35.982407407407408,29.891666666666666,37.286111111111111,37.037037037037038,22.18148148148148,25.862962962962964,22.001851851851853,26.125,30.00462962962963,29.701851851851853,21.108333333333334,25.344444444444445,9.6527777777777786,15.361111111111111,33.24351851851852,37.18333333333333,39.560185185185183,40.56388888888889,38.187962962962963,31.150925925925925,30.399074074074075,42.728703703703701,47.466666666666669,48.859259259259261,51.117592592592594,50.704629629629629,38.327777777777776,35.503703703703707,55.248148148148147,61.775925925925925,63.904085257548843,62.263297872340424,58.98936170212766,43.624113475177303,38.968085106382979,63.299645390070921,64.641843971631204,60.090425531914896,63.546985815602838,105.88297872340425,48.36790780141844,42.269503546099294,60.695921985815602,63.376773049645394,62.710992907801419,62.375886524822697,60.618794326241137,49.289007092198581,26.778368794326241,59.483156028368796,51.758865248226954,52.188829787234042,61.057624113475178,61.343085106382979,46.443262411347519,24.921099290780141,62.890957446808514,52.997340425531917,64.467198581560282,66.084219858156033,59.300531914893618,38.094858156028366,32.233156028368796,62.170212765957444,39.300531914893618,48.559397163120565,66.060283687943269,65.076241134751768,48.659574468085104,43.809397163120565,58.243794326241137,60.690602836879435,47.842198581560282,56.785460992907801,57.578900709219859,35.429078014184398,19.090425531914892,50.518617021276597,56.712765957446805,56.671985815602838,58.515070921985817,54.227836879432623,45.709219858156025,19.128584643848288,48.896276595744681,45.395390070921984,46.834426229508196,42.218137254901961,18.567716535433071,26.141509433962263,17.773584905660378,45.207890743550834,51.723542116630668,47.173180592991912,46.490044958253051,45.997509339975096,27.439676616915424,16.98320895522388,17.654850746268657,41.258706467661689,44.716738197424895,45.9977103606182,20.712328767123289,26.022831050228312,26.019977168949772,36.171232876712331,46.531392694063925,45.907534246575345,44.981164383561641,45.083333333333336,23.219178082191782,26.851027397260275,42.986872146118721,41.310502283105023,39.544520547945204,44.123858447488587,39.8824200913242,30.706050228310502,18.658105022831052,45.077625570776256,47.345890410958901,52.780251141552512,86.247716894977174,85.6107305936073,69.117009132420094,43.553652968036531,88.373287671232873,112.01976935749587,106.28262017960908,100.39340885684861,97.912551440329224,71.786522633744852,56.227366255144034,96.412037037037038,109.03343621399176,117.21604938271605,113.61265432098766,99.58230452674897,57.083847736625515,38.679012345679013,59.566358024691361,42.470164609053498,20.060699588477366,41.195987654320987,45.794238683127574,38.608539094650205,35.031893004115226,54.221707818930042,51.05144032921811,24.916666666666668,57.274176954732511,63.413580246913583,53.681584362139915,41.928497942386834,93.474794238683131,100.89557613168725,101.48713991769547,94.69855967078189,99.936728395061735,67.454218106995881,47.172325102880656,91.852366255144034,91.631172839506178,86.976337448559676,92.145061728395063,78.256172839506178,54.347736625514401,39.420267489711932,68.269547325102877,67.487654320987659,63.487654320987652,61.875514403292179,76.085905349794245,38.969650205761319,29.531893004115226,43.669238683127574,50.529320987654323,60.186728395061728,51.881687242798357,57.318930041152264,32.970679012345677,22.69650205761317,49.80144032921811,54.17644032921811,58.729423868312757,60.545267489711932,57.253600823045268,30.397633744855966,19.027777777777779,32.267489711934154,44.726424361493123,51.910294117647062,40.098039215686278,48.51911764705882,35.123039215686276,22.841176470588234,48.186274509803923,54.438159156279958,48.872605363984675,45.212164750957854,50.227969348659002,37.377873563218394,27.740900383141764,56.000957854406131,53.844827586206897,49.134099616858236,37.76053639846743,50.299329501915707,30.681513409961685,16.254789272030653,42.487068965517238,61.509578544061306,54.904214559386972,37.742337164750957,56.481800766283527,41.263888888888886,22.39176245210728,57.979406130268202,60.540229885057471,67.638409961685824,62.136015325670499,66.340996168582379,35.012931034482762,40.156130268199234,41.26053639846743,19.506226053639846,13.991379310344827,13.861111111111111,11.171455938697317,5.6015325670498086,4.5799808429118771,10.284003831417625,9.6997126436781613,9.7394636015325666,10.053639846743295,10.373084291187739,6.3630268199233715,3.9273504273504272,9.4559386973180075,10.391283524904214,10.844827586206897,10.713601532567051,11.190613026819923,7.7677203065134099,6.4018199233716473,9.9621647509578537,12.558908045977011,12.622605363984674,12.642720306513411,13.522509578544062,8.4410919540229887,6.4966475095785441,7.4626436781609193,13.392241379310345,14.252394636015326,14.815134099616857,15.533524904214559,9.5205938697318011,8.254789272030651,15.441091954022989,16.551724137931036,17.299808429118773,17.75287356321839,17.448275862068964,11.777777777777779,10.638888888888889,16.55124521072797,16.354406130268199,14.197318007662835,15.068486590038313,10.214080459770114,13.840038314176246,10.208812260536398,20.121647509578544,16.818486590038315,24.165229885057471,25.165229885057471,18.049808429118773,15.090038314176246,13.579022988505747,45.96072796934866,58.452107279693486,59.326628352490424,60.762452107279692,65.068965517241381,69.402298850574709,66.604885057471265,66.579501915708818,75.238026819923377,81.206185567010309,77.480805243445687,68.642322097378283,64.172752808988761,67.561329588014985,74.440543071161045,86.657771535580522,88.301966292134836,88.124531835205985,89.690074906367045,86.576310861423224,76.798220973782776,79.540262172284642,99.220037453183522,91.844101123595507,57.745786516853933,70.140449438202253,73.18539325842697,56.024344569288388,78.393258426966298,92.136235955056179,96.768258426966298,90.567883895131089,66.431179775280896,79.937734082397,63.886704119850187,86.692415730337075,95.099250936329582,97.645131086142328,95.605805243445687,88.013108614232209,79.558052434456926,59.999063670411985,96.441947565543074,110.89700374531836,109.06601123595506,106.55898876404494,89.345037453183522,68.412921348314612,64.732677902621717,97.930243445692881,108.23642322097378,97.531835205992508,102.39700374531836,98.483614232209732,69.695692883895134,56.494850187265918,94.092228464419478,108.43492509363296,108.37453183520599,104.30898876404494,84.68913857677903,60.122659176029963,50.979868913857679,60.956928838951313,46.450842696629216,85.144662921348313,88.322097378277149,87.268258426966298,71.344569288389508,60.182584269662918,84.905898876404493,96.416666666666671,96.504837291116971,94.736403508771929,82.667982456140351,60.403508771929822,54.015789473684208,78.525877192982449,87.224122807017551,87.846052631578942,82.820614035087715,61.337719298245617,53.317105263157892,47.46140350877193,58.142543859649123,67.659649122807011,66.270614035087718,61.2640350877193,50.131578947368418,37.482456140350877,29.381140350877192,44.642105263157895,43.048245614035089,44.075000000000003,43.634649122807019,41.150438596491227,39.246491228070177,28.435964912280703,45.322807017543859,59.274122807017541,49.924999999999997,58.846052631578949,54.673684210526318,45.755263157894738,44.506578947368418,66.155263157894737,67.655263157894737,80.539035087719299,79.966666666666669,66.723245614035093,46.306140350877193,39.43815789473684,89.083771929824564,100.90701754385965,105.06842105263158,107.53815789473684,103.97938596491228,72.147807017543855,57.766228070175437,101.53070175438596,111.13333333333334,112.1530701754386,111.93464912280702,104.05087719298245,80.127631578947373,70.241228070175438,102.58245614035087,114.04780701754386,114.03464912280701,116.32236842105263,108.96798245614035,73.796929824561403,64.776754385964907,105.42280701754386,125.42535885167464],"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</details>
<ol start="2" type="1">
<li>Using the <a href="https://plotly.com/r/filled-area-plots/">documentation</a>, add an area under the curve;</li>
</ol>
<details>
<summary>
Add area under the line
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ly</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  daily_average, <span class="at">x =</span> <span class="sc">~</span>day, <span class="at">y =</span> <span class="sc">~</span>value,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">'tozeroy'</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-9254df2e636118d23418" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-9254df2e636118d23418">{"x":{"visdat":{"6d957d0755dd":["function () ","plotlyVisDat"]},"cur_data":"6d957d0755dd","attrs":{"6d957d0755dd":{"x":{},"y":{},"fill":"tozeroy","mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"day"},"yaxis":{"domain":[0,1],"automargin":true,"title":"value"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(31,119,180,0.5)","x":["2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22"],"y":[46.661835748792271,39.979629629629628,30.704629629629629,28.925000000000001,35.982407407407408,29.891666666666666,37.286111111111111,37.037037037037038,22.18148148148148,25.862962962962964,22.001851851851853,26.125,30.00462962962963,29.701851851851853,21.108333333333334,25.344444444444445,9.6527777777777786,15.361111111111111,33.24351851851852,37.18333333333333,39.560185185185183,40.56388888888889,38.187962962962963,31.150925925925925,30.399074074074075,42.728703703703701,47.466666666666669,48.859259259259261,51.117592592592594,50.704629629629629,38.327777777777776,35.503703703703707,55.248148148148147,61.775925925925925,63.904085257548843,62.263297872340424,58.98936170212766,43.624113475177303,38.968085106382979,63.299645390070921,64.641843971631204,60.090425531914896,63.546985815602838,105.88297872340425,48.36790780141844,42.269503546099294,60.695921985815602,63.376773049645394,62.710992907801419,62.375886524822697,60.618794326241137,49.289007092198581,26.778368794326241,59.483156028368796,51.758865248226954,52.188829787234042,61.057624113475178,61.343085106382979,46.443262411347519,24.921099290780141,62.890957446808514,52.997340425531917,64.467198581560282,66.084219858156033,59.300531914893618,38.094858156028366,32.233156028368796,62.170212765957444,39.300531914893618,48.559397163120565,66.060283687943269,65.076241134751768,48.659574468085104,43.809397163120565,58.243794326241137,60.690602836879435,47.842198581560282,56.785460992907801,57.578900709219859,35.429078014184398,19.090425531914892,50.518617021276597,56.712765957446805,56.671985815602838,58.515070921985817,54.227836879432623,45.709219858156025,19.128584643848288,48.896276595744681,45.395390070921984,46.834426229508196,42.218137254901961,18.567716535433071,26.141509433962263,17.773584905660378,45.207890743550834,51.723542116630668,47.173180592991912,46.490044958253051,45.997509339975096,27.439676616915424,16.98320895522388,17.654850746268657,41.258706467661689,44.716738197424895,45.9977103606182,20.712328767123289,26.022831050228312,26.019977168949772,36.171232876712331,46.531392694063925,45.907534246575345,44.981164383561641,45.083333333333336,23.219178082191782,26.851027397260275,42.986872146118721,41.310502283105023,39.544520547945204,44.123858447488587,39.8824200913242,30.706050228310502,18.658105022831052,45.077625570776256,47.345890410958901,52.780251141552512,86.247716894977174,85.6107305936073,69.117009132420094,43.553652968036531,88.373287671232873,112.01976935749587,106.28262017960908,100.39340885684861,97.912551440329224,71.786522633744852,56.227366255144034,96.412037037037038,109.03343621399176,117.21604938271605,113.61265432098766,99.58230452674897,57.083847736625515,38.679012345679013,59.566358024691361,42.470164609053498,20.060699588477366,41.195987654320987,45.794238683127574,38.608539094650205,35.031893004115226,54.221707818930042,51.05144032921811,24.916666666666668,57.274176954732511,63.413580246913583,53.681584362139915,41.928497942386834,93.474794238683131,100.89557613168725,101.48713991769547,94.69855967078189,99.936728395061735,67.454218106995881,47.172325102880656,91.852366255144034,91.631172839506178,86.976337448559676,92.145061728395063,78.256172839506178,54.347736625514401,39.420267489711932,68.269547325102877,67.487654320987659,63.487654320987652,61.875514403292179,76.085905349794245,38.969650205761319,29.531893004115226,43.669238683127574,50.529320987654323,60.186728395061728,51.881687242798357,57.318930041152264,32.970679012345677,22.69650205761317,49.80144032921811,54.17644032921811,58.729423868312757,60.545267489711932,57.253600823045268,30.397633744855966,19.027777777777779,32.267489711934154,44.726424361493123,51.910294117647062,40.098039215686278,48.51911764705882,35.123039215686276,22.841176470588234,48.186274509803923,54.438159156279958,48.872605363984675,45.212164750957854,50.227969348659002,37.377873563218394,27.740900383141764,56.000957854406131,53.844827586206897,49.134099616858236,37.76053639846743,50.299329501915707,30.681513409961685,16.254789272030653,42.487068965517238,61.509578544061306,54.904214559386972,37.742337164750957,56.481800766283527,41.263888888888886,22.39176245210728,57.979406130268202,60.540229885057471,67.638409961685824,62.136015325670499,66.340996168582379,35.012931034482762,40.156130268199234,41.26053639846743,19.506226053639846,13.991379310344827,13.861111111111111,11.171455938697317,5.6015325670498086,4.5799808429118771,10.284003831417625,9.6997126436781613,9.7394636015325666,10.053639846743295,10.373084291187739,6.3630268199233715,3.9273504273504272,9.4559386973180075,10.391283524904214,10.844827586206897,10.713601532567051,11.190613026819923,7.7677203065134099,6.4018199233716473,9.9621647509578537,12.558908045977011,12.622605363984674,12.642720306513411,13.522509578544062,8.4410919540229887,6.4966475095785441,7.4626436781609193,13.392241379310345,14.252394636015326,14.815134099616857,15.533524904214559,9.5205938697318011,8.254789272030651,15.441091954022989,16.551724137931036,17.299808429118773,17.75287356321839,17.448275862068964,11.777777777777779,10.638888888888889,16.55124521072797,16.354406130268199,14.197318007662835,15.068486590038313,10.214080459770114,13.840038314176246,10.208812260536398,20.121647509578544,16.818486590038315,24.165229885057471,25.165229885057471,18.049808429118773,15.090038314176246,13.579022988505747,45.96072796934866,58.452107279693486,59.326628352490424,60.762452107279692,65.068965517241381,69.402298850574709,66.604885057471265,66.579501915708818,75.238026819923377,81.206185567010309,77.480805243445687,68.642322097378283,64.172752808988761,67.561329588014985,74.440543071161045,86.657771535580522,88.301966292134836,88.124531835205985,89.690074906367045,86.576310861423224,76.798220973782776,79.540262172284642,99.220037453183522,91.844101123595507,57.745786516853933,70.140449438202253,73.18539325842697,56.024344569288388,78.393258426966298,92.136235955056179,96.768258426966298,90.567883895131089,66.431179775280896,79.937734082397,63.886704119850187,86.692415730337075,95.099250936329582,97.645131086142328,95.605805243445687,88.013108614232209,79.558052434456926,59.999063670411985,96.441947565543074,110.89700374531836,109.06601123595506,106.55898876404494,89.345037453183522,68.412921348314612,64.732677902621717,97.930243445692881,108.23642322097378,97.531835205992508,102.39700374531836,98.483614232209732,69.695692883895134,56.494850187265918,94.092228464419478,108.43492509363296,108.37453183520599,104.30898876404494,84.68913857677903,60.122659176029963,50.979868913857679,60.956928838951313,46.450842696629216,85.144662921348313,88.322097378277149,87.268258426966298,71.344569288389508,60.182584269662918,84.905898876404493,96.416666666666671,96.504837291116971,94.736403508771929,82.667982456140351,60.403508771929822,54.015789473684208,78.525877192982449,87.224122807017551,87.846052631578942,82.820614035087715,61.337719298245617,53.317105263157892,47.46140350877193,58.142543859649123,67.659649122807011,66.270614035087718,61.2640350877193,50.131578947368418,37.482456140350877,29.381140350877192,44.642105263157895,43.048245614035089,44.075000000000003,43.634649122807019,41.150438596491227,39.246491228070177,28.435964912280703,45.322807017543859,59.274122807017541,49.924999999999997,58.846052631578949,54.673684210526318,45.755263157894738,44.506578947368418,66.155263157894737,67.655263157894737,80.539035087719299,79.966666666666669,66.723245614035093,46.306140350877193,39.43815789473684,89.083771929824564,100.90701754385965,105.06842105263158,107.53815789473684,103.97938596491228,72.147807017543855,57.766228070175437,101.53070175438596,111.13333333333334,112.1530701754386,111.93464912280702,104.05087719298245,80.127631578947373,70.241228070175438,102.58245614035087,114.04780701754386,114.03464912280701,116.32236842105263,108.96798245614035,73.796929824561403,64.776754385964907,105.42280701754386,125.42535885167464],"fill":"tozeroy","mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</details>
<ol start="3" type="1">
<li>Adjust styling elements to reproduce figure 4. Use <code>hovertemplate</code> and <code>hoverinfo</code> to enhance interactivity.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  daily_average, <span class="at">x =</span> <span class="sc">~</span>day, <span class="at">y =</span> <span class="sc">~</span>value,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">I</span>(<span class="st">"magenta"</span>),</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">hovertemplate =</span> <span class="sc">~</span><span class="fu">paste</span>(day, <span class="st">": "</span>, <span class="fu">round</span>(value), <span class="st">" bicycle passages per hour on average"</span>),</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill =</span> <span class="st">'tozeroy'</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'scatter'</span>, <span class="at">mode =</span> <span class="st">'lines'</span>)</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>fig4 <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">title =</span> <span class="st">"Average daily bicycle counts"</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Counting date and time (Day)"</span>),</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">"Average hourly count per day</span><span class="sc">\n</span><span class="st">over the selected period"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<details>
<summary>
Figure obtenue
</summary>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>fig4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-dd9406f99daa14817041" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-dd9406f99daa14817041">{"x":{"visdat":{"6d956df84324":["function () ","plotlyVisDat"]},"cur_data":"6d956df84324","attrs":{"6d956df84324":{"x":{},"y":{},"hovertemplate":{},"hoverinfo":"text","fill":"tozeroy","mode":"lines","color":["magenta"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average daily bicycle counts","xaxis":{"domain":[0,1],"automargin":true,"title":"Counting date and time (Day)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Average hourly count per day<br />over the selected period"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(255,0,255,0.5)","x":["2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22"],"y":[46.661835748792271,39.979629629629628,30.704629629629629,28.925000000000001,35.982407407407408,29.891666666666666,37.286111111111111,37.037037037037038,22.18148148148148,25.862962962962964,22.001851851851853,26.125,30.00462962962963,29.701851851851853,21.108333333333334,25.344444444444445,9.6527777777777786,15.361111111111111,33.24351851851852,37.18333333333333,39.560185185185183,40.56388888888889,38.187962962962963,31.150925925925925,30.399074074074075,42.728703703703701,47.466666666666669,48.859259259259261,51.117592592592594,50.704629629629629,38.327777777777776,35.503703703703707,55.248148148148147,61.775925925925925,63.904085257548843,62.263297872340424,58.98936170212766,43.624113475177303,38.968085106382979,63.299645390070921,64.641843971631204,60.090425531914896,63.546985815602838,105.88297872340425,48.36790780141844,42.269503546099294,60.695921985815602,63.376773049645394,62.710992907801419,62.375886524822697,60.618794326241137,49.289007092198581,26.778368794326241,59.483156028368796,51.758865248226954,52.188829787234042,61.057624113475178,61.343085106382979,46.443262411347519,24.921099290780141,62.890957446808514,52.997340425531917,64.467198581560282,66.084219858156033,59.300531914893618,38.094858156028366,32.233156028368796,62.170212765957444,39.300531914893618,48.559397163120565,66.060283687943269,65.076241134751768,48.659574468085104,43.809397163120565,58.243794326241137,60.690602836879435,47.842198581560282,56.785460992907801,57.578900709219859,35.429078014184398,19.090425531914892,50.518617021276597,56.712765957446805,56.671985815602838,58.515070921985817,54.227836879432623,45.709219858156025,19.128584643848288,48.896276595744681,45.395390070921984,46.834426229508196,42.218137254901961,18.567716535433071,26.141509433962263,17.773584905660378,45.207890743550834,51.723542116630668,47.173180592991912,46.490044958253051,45.997509339975096,27.439676616915424,16.98320895522388,17.654850746268657,41.258706467661689,44.716738197424895,45.9977103606182,20.712328767123289,26.022831050228312,26.019977168949772,36.171232876712331,46.531392694063925,45.907534246575345,44.981164383561641,45.083333333333336,23.219178082191782,26.851027397260275,42.986872146118721,41.310502283105023,39.544520547945204,44.123858447488587,39.8824200913242,30.706050228310502,18.658105022831052,45.077625570776256,47.345890410958901,52.780251141552512,86.247716894977174,85.6107305936073,69.117009132420094,43.553652968036531,88.373287671232873,112.01976935749587,106.28262017960908,100.39340885684861,97.912551440329224,71.786522633744852,56.227366255144034,96.412037037037038,109.03343621399176,117.21604938271605,113.61265432098766,99.58230452674897,57.083847736625515,38.679012345679013,59.566358024691361,42.470164609053498,20.060699588477366,41.195987654320987,45.794238683127574,38.608539094650205,35.031893004115226,54.221707818930042,51.05144032921811,24.916666666666668,57.274176954732511,63.413580246913583,53.681584362139915,41.928497942386834,93.474794238683131,100.89557613168725,101.48713991769547,94.69855967078189,99.936728395061735,67.454218106995881,47.172325102880656,91.852366255144034,91.631172839506178,86.976337448559676,92.145061728395063,78.256172839506178,54.347736625514401,39.420267489711932,68.269547325102877,67.487654320987659,63.487654320987652,61.875514403292179,76.085905349794245,38.969650205761319,29.531893004115226,43.669238683127574,50.529320987654323,60.186728395061728,51.881687242798357,57.318930041152264,32.970679012345677,22.69650205761317,49.80144032921811,54.17644032921811,58.729423868312757,60.545267489711932,57.253600823045268,30.397633744855966,19.027777777777779,32.267489711934154,44.726424361493123,51.910294117647062,40.098039215686278,48.51911764705882,35.123039215686276,22.841176470588234,48.186274509803923,54.438159156279958,48.872605363984675,45.212164750957854,50.227969348659002,37.377873563218394,27.740900383141764,56.000957854406131,53.844827586206897,49.134099616858236,37.76053639846743,50.299329501915707,30.681513409961685,16.254789272030653,42.487068965517238,61.509578544061306,54.904214559386972,37.742337164750957,56.481800766283527,41.263888888888886,22.39176245210728,57.979406130268202,60.540229885057471,67.638409961685824,62.136015325670499,66.340996168582379,35.012931034482762,40.156130268199234,41.26053639846743,19.506226053639846,13.991379310344827,13.861111111111111,11.171455938697317,5.6015325670498086,4.5799808429118771,10.284003831417625,9.6997126436781613,9.7394636015325666,10.053639846743295,10.373084291187739,6.3630268199233715,3.9273504273504272,9.4559386973180075,10.391283524904214,10.844827586206897,10.713601532567051,11.190613026819923,7.7677203065134099,6.4018199233716473,9.9621647509578537,12.558908045977011,12.622605363984674,12.642720306513411,13.522509578544062,8.4410919540229887,6.4966475095785441,7.4626436781609193,13.392241379310345,14.252394636015326,14.815134099616857,15.533524904214559,9.5205938697318011,8.254789272030651,15.441091954022989,16.551724137931036,17.299808429118773,17.75287356321839,17.448275862068964,11.777777777777779,10.638888888888889,16.55124521072797,16.354406130268199,14.197318007662835,15.068486590038313,10.214080459770114,13.840038314176246,10.208812260536398,20.121647509578544,16.818486590038315,24.165229885057471,25.165229885057471,18.049808429118773,15.090038314176246,13.579022988505747,45.96072796934866,58.452107279693486,59.326628352490424,60.762452107279692,65.068965517241381,69.402298850574709,66.604885057471265,66.579501915708818,75.238026819923377,81.206185567010309,77.480805243445687,68.642322097378283,64.172752808988761,67.561329588014985,74.440543071161045,86.657771535580522,88.301966292134836,88.124531835205985,89.690074906367045,86.576310861423224,76.798220973782776,79.540262172284642,99.220037453183522,91.844101123595507,57.745786516853933,70.140449438202253,73.18539325842697,56.024344569288388,78.393258426966298,92.136235955056179,96.768258426966298,90.567883895131089,66.431179775280896,79.937734082397,63.886704119850187,86.692415730337075,95.099250936329582,97.645131086142328,95.605805243445687,88.013108614232209,79.558052434456926,59.999063670411985,96.441947565543074,110.89700374531836,109.06601123595506,106.55898876404494,89.345037453183522,68.412921348314612,64.732677902621717,97.930243445692881,108.23642322097378,97.531835205992508,102.39700374531836,98.483614232209732,69.695692883895134,56.494850187265918,94.092228464419478,108.43492509363296,108.37453183520599,104.30898876404494,84.68913857677903,60.122659176029963,50.979868913857679,60.956928838951313,46.450842696629216,85.144662921348313,88.322097378277149,87.268258426966298,71.344569288389508,60.182584269662918,84.905898876404493,96.416666666666671,96.504837291116971,94.736403508771929,82.667982456140351,60.403508771929822,54.015789473684208,78.525877192982449,87.224122807017551,87.846052631578942,82.820614035087715,61.337719298245617,53.317105263157892,47.46140350877193,58.142543859649123,67.659649122807011,66.270614035087718,61.2640350877193,50.131578947368418,37.482456140350877,29.381140350877192,44.642105263157895,43.048245614035089,44.075000000000003,43.634649122807019,41.150438596491227,39.246491228070177,28.435964912280703,45.322807017543859,59.274122807017541,49.924999999999997,58.846052631578949,54.673684210526318,45.755263157894738,44.506578947368418,66.155263157894737,67.655263157894737,80.539035087719299,79.966666666666669,66.723245614035093,46.306140350877193,39.43815789473684,89.083771929824564,100.90701754385965,105.06842105263158,107.53815789473684,103.97938596491228,72.147807017543855,57.766228070175437,101.53070175438596,111.13333333333334,112.1530701754386,111.93464912280702,104.05087719298245,80.127631578947373,70.241228070175438,102.58245614035087,114.04780701754386,114.03464912280701,116.32236842105263,108.96798245614035,73.796929824561403,64.776754385964907,105.42280701754386,125.42535885167464],"hovertemplate":["2019-08-01 :  47  bicycle passages per hour on average","2019-08-02 :  40  bicycle passages per hour on average","2019-08-03 :  31  bicycle passages per hour on average","2019-08-04 :  29  bicycle passages per hour on average","2019-08-05 :  36  bicycle passages per hour on average","2019-08-06 :  30  bicycle passages per hour on average","2019-08-07 :  37  bicycle passages per hour on average","2019-08-08 :  37  bicycle passages per hour on average","2019-08-09 :  22  bicycle passages per hour on average","2019-08-10 :  26  bicycle passages per hour on average","2019-08-11 :  22  bicycle passages per hour on average","2019-08-12 :  26  bicycle passages per hour on average","2019-08-13 :  30  bicycle passages per hour on average","2019-08-14 :  30  bicycle passages per hour on average","2019-08-15 :  21  bicycle passages per hour on average","2019-08-16 :  25  bicycle passages per hour on average","2019-08-17 :  10  bicycle passages per hour on average","2019-08-18 :  15  bicycle passages per hour on average","2019-08-19 :  33  bicycle passages per hour on average","2019-08-20 :  37  bicycle passages per hour on average","2019-08-21 :  40  bicycle passages per hour on average","2019-08-22 :  41  bicycle passages per hour on average","2019-08-23 :  38  bicycle passages per hour on average","2019-08-24 :  31  bicycle passages per hour on average","2019-08-25 :  30  bicycle passages per hour on average","2019-08-26 :  43  bicycle passages per hour on average","2019-08-27 :  47  bicycle passages per hour on average","2019-08-28 :  49  bicycle passages per hour on average","2019-08-29 :  51  bicycle passages per hour on average","2019-08-30 :  51  bicycle passages per hour on average","2019-08-31 :  38  bicycle passages per hour on average","2019-09-01 :  36  bicycle passages per hour on average","2019-09-02 :  55  bicycle passages per hour on average","2019-09-03 :  62  bicycle passages per hour on average","2019-09-04 :  64  bicycle passages per hour on average","2019-09-05 :  62  bicycle passages per hour on average","2019-09-06 :  59  bicycle passages per hour on average","2019-09-07 :  44  bicycle passages per hour on average","2019-09-08 :  39  bicycle passages per hour on average","2019-09-09 :  63  bicycle passages per hour on average","2019-09-10 :  65  bicycle passages per hour on average","2019-09-11 :  60  bicycle passages per hour on average","2019-09-12 :  64  bicycle passages per hour on average","2019-09-13 :  106  bicycle passages per hour on average","2019-09-14 :  48  bicycle passages per hour on average","2019-09-15 :  42  bicycle passages per hour on average","2019-09-16 :  61  bicycle passages per hour on average","2019-09-17 :  63  bicycle passages per hour on average","2019-09-18 :  63  bicycle passages per hour on average","2019-09-19 :  62  bicycle passages per hour on average","2019-09-20 :  61  bicycle passages per hour on average","2019-09-21 :  49  bicycle passages per hour on average","2019-09-22 :  27  bicycle passages per hour on average","2019-09-23 :  59  bicycle passages per hour on average","2019-09-24 :  52  bicycle passages per hour on average","2019-09-25 :  52  bicycle passages per hour on average","2019-09-26 :  61  bicycle passages per hour on average","2019-09-27 :  61  bicycle passages per hour on average","2019-09-28 :  46  bicycle passages per hour on average","2019-09-29 :  25  bicycle passages per hour on average","2019-09-30 :  63  bicycle passages per hour on average","2019-10-01 :  53  bicycle passages per hour on average","2019-10-02 :  64  bicycle passages per hour on average","2019-10-03 :  66  bicycle passages per hour on average","2019-10-04 :  59  bicycle passages per hour on average","2019-10-05 :  38  bicycle passages per hour on average","2019-10-06 :  32  bicycle passages per hour on average","2019-10-07 :  62  bicycle passages per hour on average","2019-10-08 :  39  bicycle passages per hour on average","2019-10-09 :  49  bicycle passages per hour on average","2019-10-10 :  66  bicycle passages per hour on average","2019-10-11 :  65  bicycle passages per hour on average","2019-10-12 :  49  bicycle passages per hour on average","2019-10-13 :  44  bicycle passages per hour on average","2019-10-14 :  58  bicycle passages per hour on average","2019-10-15 :  61  bicycle passages per hour on average","2019-10-16 :  48  bicycle passages per hour on average","2019-10-17 :  57  bicycle passages per hour on average","2019-10-18 :  58  bicycle passages per hour on average","2019-10-19 :  35  bicycle passages per hour on average","2019-10-20 :  19  bicycle passages per hour on average","2019-10-21 :  51  bicycle passages per hour on average","2019-10-22 :  57  bicycle passages per hour on average","2019-10-23 :  57  bicycle passages per hour on average","2019-10-24 :  59  bicycle passages per hour on average","2019-10-25 :  54  bicycle passages per hour on average","2019-10-26 :  46  bicycle passages per hour on average","2019-10-27 :  19  bicycle passages per hour on average","2019-10-28 :  49  bicycle passages per hour on average","2019-10-29 :  45  bicycle passages per hour on average","2019-10-30 :  47  bicycle passages per hour on average","2019-10-31 :  42  bicycle passages per hour on average","2019-11-01 :  19  bicycle passages per hour on average","2019-11-02 :  26  bicycle passages per hour on average","2019-11-03 :  18  bicycle passages per hour on average","2019-11-04 :  45  bicycle passages per hour on average","2019-11-05 :  52  bicycle passages per hour on average","2019-11-06 :  47  bicycle passages per hour on average","2019-11-07 :  46  bicycle passages per hour on average","2019-11-08 :  46  bicycle passages per hour on average","2019-11-09 :  27  bicycle passages per hour on average","2019-11-10 :  17  bicycle passages per hour on average","2019-11-11 :  18  bicycle passages per hour on average","2019-11-12 :  41  bicycle passages per hour on average","2019-11-13 :  45  bicycle passages per hour on average","2019-11-14 :  46  bicycle passages per hour on average","2019-11-15 :  21  bicycle passages per hour on average","2019-11-16 :  26  bicycle passages per hour on average","2019-11-17 :  26  bicycle passages per hour on average","2019-11-18 :  36  bicycle passages per hour on average","2019-11-19 :  47  bicycle passages per hour on average","2019-11-20 :  46  bicycle passages per hour on average","2019-11-21 :  45  bicycle passages per hour on average","2019-11-22 :  45  bicycle passages per hour on average","2019-11-23 :  23  bicycle passages per hour on average","2019-11-24 :  27  bicycle passages per hour on average","2019-11-25 :  43  bicycle passages per hour on average","2019-11-26 :  41  bicycle passages per hour on average","2019-11-27 :  40  bicycle passages per hour on average","2019-11-28 :  44  bicycle passages per hour on average","2019-11-29 :  40  bicycle passages per hour on average","2019-11-30 :  31  bicycle passages per hour on average","2019-12-01 :  19  bicycle passages per hour on average","2019-12-02 :  45  bicycle passages per hour on average","2019-12-03 :  47  bicycle passages per hour on average","2019-12-04 :  53  bicycle passages per hour on average","2019-12-05 :  86  bicycle passages per hour on average","2019-12-06 :  86  bicycle passages per hour on average","2019-12-07 :  69  bicycle passages per hour on average","2019-12-08 :  44  bicycle passages per hour on average","2019-12-09 :  88  bicycle passages per hour on average","2019-12-10 :  112  bicycle passages per hour on average","2019-12-11 :  106  bicycle passages per hour on average","2019-12-12 :  100  bicycle passages per hour on average","2019-12-13 :  98  bicycle passages per hour on average","2019-12-14 :  72  bicycle passages per hour on average","2019-12-15 :  56  bicycle passages per hour on average","2019-12-16 :  96  bicycle passages per hour on average","2019-12-17 :  109  bicycle passages per hour on average","2019-12-18 :  117  bicycle passages per hour on average","2019-12-19 :  114  bicycle passages per hour on average","2019-12-20 :  100  bicycle passages per hour on average","2019-12-21 :  57  bicycle passages per hour on average","2019-12-22 :  39  bicycle passages per hour on average","2019-12-23 :  60  bicycle passages per hour on average","2019-12-24 :  42  bicycle passages per hour on average","2019-12-25 :  20  bicycle passages per hour on average","2019-12-26 :  41  bicycle passages per hour on average","2019-12-27 :  46  bicycle passages per hour on average","2019-12-28 :  39  bicycle passages per hour on average","2019-12-29 :  35  bicycle passages per hour on average","2019-12-30 :  54  bicycle passages per hour on average","2019-12-31 :  51  bicycle passages per hour on average","2020-01-01 :  25  bicycle passages per hour on average","2020-01-02 :  57  bicycle passages per hour on average","2020-01-03 :  63  bicycle passages per hour on average","2020-01-04 :  54  bicycle passages per hour on average","2020-01-05 :  42  bicycle passages per hour on average","2020-01-06 :  93  bicycle passages per hour on average","2020-01-07 :  101  bicycle passages per hour on average","2020-01-08 :  101  bicycle passages per hour on average","2020-01-09 :  95  bicycle passages per hour on average","2020-01-10 :  100  bicycle passages per hour on average","2020-01-11 :  67  bicycle passages per hour on average","2020-01-12 :  47  bicycle passages per hour on average","2020-01-13 :  92  bicycle passages per hour on average","2020-01-14 :  92  bicycle passages per hour on average","2020-01-15 :  87  bicycle passages per hour on average","2020-01-16 :  92  bicycle passages per hour on average","2020-01-17 :  78  bicycle passages per hour on average","2020-01-18 :  54  bicycle passages per hour on average","2020-01-19 :  39  bicycle passages per hour on average","2020-01-20 :  68  bicycle passages per hour on average","2020-01-21 :  67  bicycle passages per hour on average","2020-01-22 :  63  bicycle passages per hour on average","2020-01-23 :  62  bicycle passages per hour on average","2020-01-24 :  76  bicycle passages per hour on average","2020-01-25 :  39  bicycle passages per hour on average","2020-01-26 :  30  bicycle passages per hour on average","2020-01-27 :  44  bicycle passages per hour on average","2020-01-28 :  51  bicycle passages per hour on average","2020-01-29 :  60  bicycle passages per hour on average","2020-01-30 :  52  bicycle passages per hour on average","2020-01-31 :  57  bicycle passages per hour on average","2020-02-01 :  33  bicycle passages per hour on average","2020-02-02 :  23  bicycle passages per hour on average","2020-02-03 :  50  bicycle passages per hour on average","2020-02-04 :  54  bicycle passages per hour on average","2020-02-05 :  59  bicycle passages per hour on average","2020-02-06 :  61  bicycle passages per hour on average","2020-02-07 :  57  bicycle passages per hour on average","2020-02-08 :  30  bicycle passages per hour on average","2020-02-09 :  19  bicycle passages per hour on average","2020-02-10 :  32  bicycle passages per hour on average","2020-02-11 :  45  bicycle passages per hour on average","2020-02-12 :  52  bicycle passages per hour on average","2020-02-13 :  40  bicycle passages per hour on average","2020-02-14 :  49  bicycle passages per hour on average","2020-02-15 :  35  bicycle passages per hour on average","2020-02-16 :  23  bicycle passages per hour on average","2020-02-17 :  48  bicycle passages per hour on average","2020-02-18 :  54  bicycle passages per hour on average","2020-02-19 :  49  bicycle passages per hour on average","2020-02-20 :  45  bicycle passages per hour on average","2020-02-21 :  50  bicycle passages per hour on average","2020-02-22 :  37  bicycle passages per hour on average","2020-02-23 :  28  bicycle passages per hour on average","2020-02-24 :  56  bicycle passages per hour on average","2020-02-25 :  54  bicycle passages per hour on average","2020-02-26 :  49  bicycle passages per hour on average","2020-02-27 :  38  bicycle passages per hour on average","2020-02-28 :  50  bicycle passages per hour on average","2020-02-29 :  31  bicycle passages per hour on average","2020-03-01 :  16  bicycle passages per hour on average","2020-03-02 :  42  bicycle passages per hour on average","2020-03-03 :  62  bicycle passages per hour on average","2020-03-04 :  55  bicycle passages per hour on average","2020-03-05 :  38  bicycle passages per hour on average","2020-03-06 :  56  bicycle passages per hour on average","2020-03-07 :  41  bicycle passages per hour on average","2020-03-08 :  22  bicycle passages per hour on average","2020-03-09 :  58  bicycle passages per hour on average","2020-03-10 :  61  bicycle passages per hour on average","2020-03-11 :  68  bicycle passages per hour on average","2020-03-12 :  62  bicycle passages per hour on average","2020-03-13 :  66  bicycle passages per hour on average","2020-03-14 :  35  bicycle passages per hour on average","2020-03-15 :  40  bicycle passages per hour on average","2020-03-16 :  41  bicycle passages per hour on average","2020-03-17 :  20  bicycle passages per hour on average","2020-03-18 :  14  bicycle passages per hour on average","2020-03-19 :  14  bicycle passages per hour on average","2020-03-20 :  11  bicycle passages per hour on average","2020-03-21 :  6  bicycle passages per hour on average","2020-03-22 :  5  bicycle passages per hour on average","2020-03-23 :  10  bicycle passages per hour on average","2020-03-24 :  10  bicycle passages per hour on average","2020-03-25 :  10  bicycle passages per hour on average","2020-03-26 :  10  bicycle passages per hour on average","2020-03-27 :  10  bicycle passages per hour on average","2020-03-28 :  6  bicycle passages per hour on average","2020-03-29 :  4  bicycle passages per hour on average","2020-03-30 :  9  bicycle passages per hour on average","2020-03-31 :  10  bicycle passages per hour on average","2020-04-01 :  11  bicycle passages per hour on average","2020-04-02 :  11  bicycle passages per hour on average","2020-04-03 :  11  bicycle passages per hour on average","2020-04-04 :  8  bicycle passages per hour on average","2020-04-05 :  6  bicycle passages per hour on average","2020-04-06 :  10  bicycle passages per hour on average","2020-04-07 :  13  bicycle passages per hour on average","2020-04-08 :  13  bicycle passages per hour on average","2020-04-09 :  13  bicycle passages per hour on average","2020-04-10 :  14  bicycle passages per hour on average","2020-04-11 :  8  bicycle passages per hour on average","2020-04-12 :  6  bicycle passages per hour on average","2020-04-13 :  7  bicycle passages per hour on average","2020-04-14 :  13  bicycle passages per hour on average","2020-04-15 :  14  bicycle passages per hour on average","2020-04-16 :  15  bicycle passages per hour on average","2020-04-17 :  16  bicycle passages per hour on average","2020-04-18 :  10  bicycle passages per hour on average","2020-04-19 :  8  bicycle passages per hour on average","2020-04-20 :  15  bicycle passages per hour on average","2020-04-21 :  17  bicycle passages per hour on average","2020-04-22 :  17  bicycle passages per hour on average","2020-04-23 :  18  bicycle passages per hour on average","2020-04-24 :  17  bicycle passages per hour on average","2020-04-25 :  12  bicycle passages per hour on average","2020-04-26 :  11  bicycle passages per hour on average","2020-04-27 :  17  bicycle passages per hour on average","2020-04-28 :  16  bicycle passages per hour on average","2020-04-29 :  14  bicycle passages per hour on average","2020-04-30 :  15  bicycle passages per hour on average","2020-05-01 :  10  bicycle passages per hour on average","2020-05-02 :  14  bicycle passages per hour on average","2020-05-03 :  10  bicycle passages per hour on average","2020-05-04 :  20  bicycle passages per hour on average","2020-05-05 :  17  bicycle passages per hour on average","2020-05-06 :  24  bicycle passages per hour on average","2020-05-07 :  25  bicycle passages per hour on average","2020-05-08 :  18  bicycle passages per hour on average","2020-05-09 :  15  bicycle passages per hour on average","2020-05-10 :  14  bicycle passages per hour on average","2020-05-11 :  46  bicycle passages per hour on average","2020-05-12 :  58  bicycle passages per hour on average","2020-05-13 :  59  bicycle passages per hour on average","2020-05-14 :  61  bicycle passages per hour on average","2020-05-15 :  65  bicycle passages per hour on average","2020-05-16 :  69  bicycle passages per hour on average","2020-05-17 :  67  bicycle passages per hour on average","2020-05-18 :  67  bicycle passages per hour on average","2020-05-19 :  75  bicycle passages per hour on average","2020-05-20 :  81  bicycle passages per hour on average","2020-05-21 :  77  bicycle passages per hour on average","2020-05-22 :  69  bicycle passages per hour on average","2020-05-23 :  64  bicycle passages per hour on average","2020-05-24 :  68  bicycle passages per hour on average","2020-05-25 :  74  bicycle passages per hour on average","2020-05-26 :  87  bicycle passages per hour on average","2020-05-27 :  88  bicycle passages per hour on average","2020-05-28 :  88  bicycle passages per hour on average","2020-05-29 :  90  bicycle passages per hour on average","2020-05-30 :  87  bicycle passages per hour on average","2020-05-31 :  77  bicycle passages per hour on average","2020-06-01 :  80  bicycle passages per hour on average","2020-06-02 :  99  bicycle passages per hour on average","2020-06-03 :  92  bicycle passages per hour on average","2020-06-04 :  58  bicycle passages per hour on average","2020-06-05 :  70  bicycle passages per hour on average","2020-06-06 :  73  bicycle passages per hour on average","2020-06-07 :  56  bicycle passages per hour on average","2020-06-08 :  78  bicycle passages per hour on average","2020-06-09 :  92  bicycle passages per hour on average","2020-06-10 :  97  bicycle passages per hour on average","2020-06-11 :  91  bicycle passages per hour on average","2020-06-12 :  66  bicycle passages per hour on average","2020-06-13 :  80  bicycle passages per hour on average","2020-06-14 :  64  bicycle passages per hour on average","2020-06-15 :  87  bicycle passages per hour on average","2020-06-16 :  95  bicycle passages per hour on average","2020-06-17 :  98  bicycle passages per hour on average","2020-06-18 :  96  bicycle passages per hour on average","2020-06-19 :  88  bicycle passages per hour on average","2020-06-20 :  80  bicycle passages per hour on average","2020-06-21 :  60  bicycle passages per hour on average","2020-06-22 :  96  bicycle passages per hour on average","2020-06-23 :  111  bicycle passages per hour on average","2020-06-24 :  109  bicycle passages per hour on average","2020-06-25 :  107  bicycle passages per hour on average","2020-06-26 :  89  bicycle passages per hour on average","2020-06-27 :  68  bicycle passages per hour on average","2020-06-28 :  65  bicycle passages per hour on average","2020-06-29 :  98  bicycle passages per hour on average","2020-06-30 :  108  bicycle passages per hour on average","2020-07-01 :  98  bicycle passages per hour on average","2020-07-02 :  102  bicycle passages per hour on average","2020-07-03 :  98  bicycle passages per hour on average","2020-07-04 :  70  bicycle passages per hour on average","2020-07-05 :  56  bicycle passages per hour on average","2020-07-06 :  94  bicycle passages per hour on average","2020-07-07 :  108  bicycle passages per hour on average","2020-07-08 :  108  bicycle passages per hour on average","2020-07-09 :  104  bicycle passages per hour on average","2020-07-10 :  85  bicycle passages per hour on average","2020-07-11 :  60  bicycle passages per hour on average","2020-07-12 :  51  bicycle passages per hour on average","2020-07-13 :  61  bicycle passages per hour on average","2020-07-14 :  46  bicycle passages per hour on average","2020-07-15 :  85  bicycle passages per hour on average","2020-07-16 :  88  bicycle passages per hour on average","2020-07-17 :  87  bicycle passages per hour on average","2020-07-18 :  71  bicycle passages per hour on average","2020-07-19 :  60  bicycle passages per hour on average","2020-07-20 :  85  bicycle passages per hour on average","2020-07-21 :  96  bicycle passages per hour on average","2020-07-22 :  97  bicycle passages per hour on average","2020-07-23 :  95  bicycle passages per hour on average","2020-07-24 :  83  bicycle passages per hour on average","2020-07-25 :  60  bicycle passages per hour on average","2020-07-26 :  54  bicycle passages per hour on average","2020-07-27 :  79  bicycle passages per hour on average","2020-07-28 :  87  bicycle passages per hour on average","2020-07-29 :  88  bicycle passages per hour on average","2020-07-30 :  83  bicycle passages per hour on average","2020-07-31 :  61  bicycle passages per hour on average","2020-08-01 :  53  bicycle passages per hour on average","2020-08-02 :  47  bicycle passages per hour on average","2020-08-03 :  58  bicycle passages per hour on average","2020-08-04 :  68  bicycle passages per hour on average","2020-08-05 :  66  bicycle passages per hour on average","2020-08-06 :  61  bicycle passages per hour on average","2020-08-07 :  50  bicycle passages per hour on average","2020-08-08 :  37  bicycle passages per hour on average","2020-08-09 :  29  bicycle passages per hour on average","2020-08-10 :  45  bicycle passages per hour on average","2020-08-11 :  43  bicycle passages per hour on average","2020-08-12 :  44  bicycle passages per hour on average","2020-08-13 :  44  bicycle passages per hour on average","2020-08-14 :  41  bicycle passages per hour on average","2020-08-15 :  39  bicycle passages per hour on average","2020-08-16 :  28  bicycle passages per hour on average","2020-08-17 :  45  bicycle passages per hour on average","2020-08-18 :  59  bicycle passages per hour on average","2020-08-19 :  50  bicycle passages per hour on average","2020-08-20 :  59  bicycle passages per hour on average","2020-08-21 :  55  bicycle passages per hour on average","2020-08-22 :  46  bicycle passages per hour on average","2020-08-23 :  45  bicycle passages per hour on average","2020-08-24 :  66  bicycle passages per hour on average","2020-08-25 :  68  bicycle passages per hour on average","2020-08-26 :  81  bicycle passages per hour on average","2020-08-27 :  80  bicycle passages per hour on average","2020-08-28 :  67  bicycle passages per hour on average","2020-08-29 :  46  bicycle passages per hour on average","2020-08-30 :  39  bicycle passages per hour on average","2020-08-31 :  89  bicycle passages per hour on average","2020-09-01 :  101  bicycle passages per hour on average","2020-09-02 :  105  bicycle passages per hour on average","2020-09-03 :  108  bicycle passages per hour on average","2020-09-04 :  104  bicycle passages per hour on average","2020-09-05 :  72  bicycle passages per hour on average","2020-09-06 :  58  bicycle passages per hour on average","2020-09-07 :  102  bicycle passages per hour on average","2020-09-08 :  111  bicycle passages per hour on average","2020-09-09 :  112  bicycle passages per hour on average","2020-09-10 :  112  bicycle passages per hour on average","2020-09-11 :  104  bicycle passages per hour on average","2020-09-12 :  80  bicycle passages per hour on average","2020-09-13 :  70  bicycle passages per hour on average","2020-09-14 :  103  bicycle passages per hour on average","2020-09-15 :  114  bicycle passages per hour on average","2020-09-16 :  114  bicycle passages per hour on average","2020-09-17 :  116  bicycle passages per hour on average","2020-09-18 :  109  bicycle passages per hour on average","2020-09-19 :  74  bicycle passages per hour on average","2020-09-20 :  65  bicycle passages per hour on average","2020-09-21 :  105  bicycle passages per hour on average","2020-09-22 :  125  bicycle passages per hour on average"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"fill":"tozeroy","mode":"lines","type":"scatter","marker":{"color":"rgba(255,0,255,1)","line":{"color":"rgba(255,0,255,1)"}},"textfont":{"color":"rgba(255,0,255,1)"},"error_y":{"color":"rgba(255,0,255,1)"},"error_x":{"color":"rgba(255,0,255,1)"},"line":{"color":"rgba(255,0,255,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</details>
</div>
</div>
<p>The interactive version is then produced.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>fig4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-497101b43f724304606f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-497101b43f724304606f">{"x":{"visdat":{"6d956df84324":["function () ","plotlyVisDat"]},"cur_data":"6d956df84324","attrs":{"6d956df84324":{"x":{},"y":{},"hovertemplate":{},"hoverinfo":"text","fill":"tozeroy","mode":"lines","color":["magenta"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average daily bicycle counts","xaxis":{"domain":[0,1],"automargin":true,"title":"Counting date and time (Day)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Average hourly count per day<br />over the selected period"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(255,0,255,0.5)","x":["2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22"],"y":[46.661835748792271,39.979629629629628,30.704629629629629,28.925000000000001,35.982407407407408,29.891666666666666,37.286111111111111,37.037037037037038,22.18148148148148,25.862962962962964,22.001851851851853,26.125,30.00462962962963,29.701851851851853,21.108333333333334,25.344444444444445,9.6527777777777786,15.361111111111111,33.24351851851852,37.18333333333333,39.560185185185183,40.56388888888889,38.187962962962963,31.150925925925925,30.399074074074075,42.728703703703701,47.466666666666669,48.859259259259261,51.117592592592594,50.704629629629629,38.327777777777776,35.503703703703707,55.248148148148147,61.775925925925925,63.904085257548843,62.263297872340424,58.98936170212766,43.624113475177303,38.968085106382979,63.299645390070921,64.641843971631204,60.090425531914896,63.546985815602838,105.88297872340425,48.36790780141844,42.269503546099294,60.695921985815602,63.376773049645394,62.710992907801419,62.375886524822697,60.618794326241137,49.289007092198581,26.778368794326241,59.483156028368796,51.758865248226954,52.188829787234042,61.057624113475178,61.343085106382979,46.443262411347519,24.921099290780141,62.890957446808514,52.997340425531917,64.467198581560282,66.084219858156033,59.300531914893618,38.094858156028366,32.233156028368796,62.170212765957444,39.300531914893618,48.559397163120565,66.060283687943269,65.076241134751768,48.659574468085104,43.809397163120565,58.243794326241137,60.690602836879435,47.842198581560282,56.785460992907801,57.578900709219859,35.429078014184398,19.090425531914892,50.518617021276597,56.712765957446805,56.671985815602838,58.515070921985817,54.227836879432623,45.709219858156025,19.128584643848288,48.896276595744681,45.395390070921984,46.834426229508196,42.218137254901961,18.567716535433071,26.141509433962263,17.773584905660378,45.207890743550834,51.723542116630668,47.173180592991912,46.490044958253051,45.997509339975096,27.439676616915424,16.98320895522388,17.654850746268657,41.258706467661689,44.716738197424895,45.9977103606182,20.712328767123289,26.022831050228312,26.019977168949772,36.171232876712331,46.531392694063925,45.907534246575345,44.981164383561641,45.083333333333336,23.219178082191782,26.851027397260275,42.986872146118721,41.310502283105023,39.544520547945204,44.123858447488587,39.8824200913242,30.706050228310502,18.658105022831052,45.077625570776256,47.345890410958901,52.780251141552512,86.247716894977174,85.6107305936073,69.117009132420094,43.553652968036531,88.373287671232873,112.01976935749587,106.28262017960908,100.39340885684861,97.912551440329224,71.786522633744852,56.227366255144034,96.412037037037038,109.03343621399176,117.21604938271605,113.61265432098766,99.58230452674897,57.083847736625515,38.679012345679013,59.566358024691361,42.470164609053498,20.060699588477366,41.195987654320987,45.794238683127574,38.608539094650205,35.031893004115226,54.221707818930042,51.05144032921811,24.916666666666668,57.274176954732511,63.413580246913583,53.681584362139915,41.928497942386834,93.474794238683131,100.89557613168725,101.48713991769547,94.69855967078189,99.936728395061735,67.454218106995881,47.172325102880656,91.852366255144034,91.631172839506178,86.976337448559676,92.145061728395063,78.256172839506178,54.347736625514401,39.420267489711932,68.269547325102877,67.487654320987659,63.487654320987652,61.875514403292179,76.085905349794245,38.969650205761319,29.531893004115226,43.669238683127574,50.529320987654323,60.186728395061728,51.881687242798357,57.318930041152264,32.970679012345677,22.69650205761317,49.80144032921811,54.17644032921811,58.729423868312757,60.545267489711932,57.253600823045268,30.397633744855966,19.027777777777779,32.267489711934154,44.726424361493123,51.910294117647062,40.098039215686278,48.51911764705882,35.123039215686276,22.841176470588234,48.186274509803923,54.438159156279958,48.872605363984675,45.212164750957854,50.227969348659002,37.377873563218394,27.740900383141764,56.000957854406131,53.844827586206897,49.134099616858236,37.76053639846743,50.299329501915707,30.681513409961685,16.254789272030653,42.487068965517238,61.509578544061306,54.904214559386972,37.742337164750957,56.481800766283527,41.263888888888886,22.39176245210728,57.979406130268202,60.540229885057471,67.638409961685824,62.136015325670499,66.340996168582379,35.012931034482762,40.156130268199234,41.26053639846743,19.506226053639846,13.991379310344827,13.861111111111111,11.171455938697317,5.6015325670498086,4.5799808429118771,10.284003831417625,9.6997126436781613,9.7394636015325666,10.053639846743295,10.373084291187739,6.3630268199233715,3.9273504273504272,9.4559386973180075,10.391283524904214,10.844827586206897,10.713601532567051,11.190613026819923,7.7677203065134099,6.4018199233716473,9.9621647509578537,12.558908045977011,12.622605363984674,12.642720306513411,13.522509578544062,8.4410919540229887,6.4966475095785441,7.4626436781609193,13.392241379310345,14.252394636015326,14.815134099616857,15.533524904214559,9.5205938697318011,8.254789272030651,15.441091954022989,16.551724137931036,17.299808429118773,17.75287356321839,17.448275862068964,11.777777777777779,10.638888888888889,16.55124521072797,16.354406130268199,14.197318007662835,15.068486590038313,10.214080459770114,13.840038314176246,10.208812260536398,20.121647509578544,16.818486590038315,24.165229885057471,25.165229885057471,18.049808429118773,15.090038314176246,13.579022988505747,45.96072796934866,58.452107279693486,59.326628352490424,60.762452107279692,65.068965517241381,69.402298850574709,66.604885057471265,66.579501915708818,75.238026819923377,81.206185567010309,77.480805243445687,68.642322097378283,64.172752808988761,67.561329588014985,74.440543071161045,86.657771535580522,88.301966292134836,88.124531835205985,89.690074906367045,86.576310861423224,76.798220973782776,79.540262172284642,99.220037453183522,91.844101123595507,57.745786516853933,70.140449438202253,73.18539325842697,56.024344569288388,78.393258426966298,92.136235955056179,96.768258426966298,90.567883895131089,66.431179775280896,79.937734082397,63.886704119850187,86.692415730337075,95.099250936329582,97.645131086142328,95.605805243445687,88.013108614232209,79.558052434456926,59.999063670411985,96.441947565543074,110.89700374531836,109.06601123595506,106.55898876404494,89.345037453183522,68.412921348314612,64.732677902621717,97.930243445692881,108.23642322097378,97.531835205992508,102.39700374531836,98.483614232209732,69.695692883895134,56.494850187265918,94.092228464419478,108.43492509363296,108.37453183520599,104.30898876404494,84.68913857677903,60.122659176029963,50.979868913857679,60.956928838951313,46.450842696629216,85.144662921348313,88.322097378277149,87.268258426966298,71.344569288389508,60.182584269662918,84.905898876404493,96.416666666666671,96.504837291116971,94.736403508771929,82.667982456140351,60.403508771929822,54.015789473684208,78.525877192982449,87.224122807017551,87.846052631578942,82.820614035087715,61.337719298245617,53.317105263157892,47.46140350877193,58.142543859649123,67.659649122807011,66.270614035087718,61.2640350877193,50.131578947368418,37.482456140350877,29.381140350877192,44.642105263157895,43.048245614035089,44.075000000000003,43.634649122807019,41.150438596491227,39.246491228070177,28.435964912280703,45.322807017543859,59.274122807017541,49.924999999999997,58.846052631578949,54.673684210526318,45.755263157894738,44.506578947368418,66.155263157894737,67.655263157894737,80.539035087719299,79.966666666666669,66.723245614035093,46.306140350877193,39.43815789473684,89.083771929824564,100.90701754385965,105.06842105263158,107.53815789473684,103.97938596491228,72.147807017543855,57.766228070175437,101.53070175438596,111.13333333333334,112.1530701754386,111.93464912280702,104.05087719298245,80.127631578947373,70.241228070175438,102.58245614035087,114.04780701754386,114.03464912280701,116.32236842105263,108.96798245614035,73.796929824561403,64.776754385964907,105.42280701754386,125.42535885167464],"hovertemplate":["2019-08-01 :  47  bicycle passages per hour on average","2019-08-02 :  40  bicycle passages per hour on average","2019-08-03 :  31  bicycle passages per hour on average","2019-08-04 :  29  bicycle passages per hour on average","2019-08-05 :  36  bicycle passages per hour on average","2019-08-06 :  30  bicycle passages per hour on average","2019-08-07 :  37  bicycle passages per hour on average","2019-08-08 :  37  bicycle passages per hour on average","2019-08-09 :  22  bicycle passages per hour on average","2019-08-10 :  26  bicycle passages per hour on average","2019-08-11 :  22  bicycle passages per hour on average","2019-08-12 :  26  bicycle passages per hour on average","2019-08-13 :  30  bicycle passages per hour on average","2019-08-14 :  30  bicycle passages per hour on average","2019-08-15 :  21  bicycle passages per hour on average","2019-08-16 :  25  bicycle passages per hour on average","2019-08-17 :  10  bicycle passages per hour on average","2019-08-18 :  15  bicycle passages per hour on average","2019-08-19 :  33  bicycle passages per hour on average","2019-08-20 :  37  bicycle passages per hour on average","2019-08-21 :  40  bicycle passages per hour on average","2019-08-22 :  41  bicycle passages per hour on average","2019-08-23 :  38  bicycle passages per hour on average","2019-08-24 :  31  bicycle passages per hour on average","2019-08-25 :  30  bicycle passages per hour on average","2019-08-26 :  43  bicycle passages per hour on average","2019-08-27 :  47  bicycle passages per hour on average","2019-08-28 :  49  bicycle passages per hour on average","2019-08-29 :  51  bicycle passages per hour on average","2019-08-30 :  51  bicycle passages per hour on average","2019-08-31 :  38  bicycle passages per hour on average","2019-09-01 :  36  bicycle passages per hour on average","2019-09-02 :  55  bicycle passages per hour on average","2019-09-03 :  62  bicycle passages per hour on average","2019-09-04 :  64  bicycle passages per hour on average","2019-09-05 :  62  bicycle passages per hour on average","2019-09-06 :  59  bicycle passages per hour on average","2019-09-07 :  44  bicycle passages per hour on average","2019-09-08 :  39  bicycle passages per hour on average","2019-09-09 :  63  bicycle passages per hour on average","2019-09-10 :  65  bicycle passages per hour on average","2019-09-11 :  60  bicycle passages per hour on average","2019-09-12 :  64  bicycle passages per hour on average","2019-09-13 :  106  bicycle passages per hour on average","2019-09-14 :  48  bicycle passages per hour on average","2019-09-15 :  42  bicycle passages per hour on average","2019-09-16 :  61  bicycle passages per hour on average","2019-09-17 :  63  bicycle passages per hour on average","2019-09-18 :  63  bicycle passages per hour on average","2019-09-19 :  62  bicycle passages per hour on average","2019-09-20 :  61  bicycle passages per hour on average","2019-09-21 :  49  bicycle passages per hour on average","2019-09-22 :  27  bicycle passages per hour on average","2019-09-23 :  59  bicycle passages per hour on average","2019-09-24 :  52  bicycle passages per hour on average","2019-09-25 :  52  bicycle passages per hour on average","2019-09-26 :  61  bicycle passages per hour on average","2019-09-27 :  61  bicycle passages per hour on average","2019-09-28 :  46  bicycle passages per hour on average","2019-09-29 :  25  bicycle passages per hour on average","2019-09-30 :  63  bicycle passages per hour on average","2019-10-01 :  53  bicycle passages per hour on average","2019-10-02 :  64  bicycle passages per hour on average","2019-10-03 :  66  bicycle passages per hour on average","2019-10-04 :  59  bicycle passages per hour on average","2019-10-05 :  38  bicycle passages per hour on average","2019-10-06 :  32  bicycle passages per hour on average","2019-10-07 :  62  bicycle passages per hour on average","2019-10-08 :  39  bicycle passages per hour on average","2019-10-09 :  49  bicycle passages per hour on average","2019-10-10 :  66  bicycle passages per hour on average","2019-10-11 :  65  bicycle passages per hour on average","2019-10-12 :  49  bicycle passages per hour on average","2019-10-13 :  44  bicycle passages per hour on average","2019-10-14 :  58  bicycle passages per hour on average","2019-10-15 :  61  bicycle passages per hour on average","2019-10-16 :  48  bicycle passages per hour on average","2019-10-17 :  57  bicycle passages per hour on average","2019-10-18 :  58  bicycle passages per hour on average","2019-10-19 :  35  bicycle passages per hour on average","2019-10-20 :  19  bicycle passages per hour on average","2019-10-21 :  51  bicycle passages per hour on average","2019-10-22 :  57  bicycle passages per hour on average","2019-10-23 :  57  bicycle passages per hour on average","2019-10-24 :  59  bicycle passages per hour on average","2019-10-25 :  54  bicycle passages per hour on average","2019-10-26 :  46  bicycle passages per hour on average","2019-10-27 :  19  bicycle passages per hour on average","2019-10-28 :  49  bicycle passages per hour on average","2019-10-29 :  45  bicycle passages per hour on average","2019-10-30 :  47  bicycle passages per hour on average","2019-10-31 :  42  bicycle passages per hour on average","2019-11-01 :  19  bicycle passages per hour on average","2019-11-02 :  26  bicycle passages per hour on average","2019-11-03 :  18  bicycle passages per hour on average","2019-11-04 :  45  bicycle passages per hour on average","2019-11-05 :  52  bicycle passages per hour on average","2019-11-06 :  47  bicycle passages per hour on average","2019-11-07 :  46  bicycle passages per hour on average","2019-11-08 :  46  bicycle passages per hour on average","2019-11-09 :  27  bicycle passages per hour on average","2019-11-10 :  17  bicycle passages per hour on average","2019-11-11 :  18  bicycle passages per hour on average","2019-11-12 :  41  bicycle passages per hour on average","2019-11-13 :  45  bicycle passages per hour on average","2019-11-14 :  46  bicycle passages per hour on average","2019-11-15 :  21  bicycle passages per hour on average","2019-11-16 :  26  bicycle passages per hour on average","2019-11-17 :  26  bicycle passages per hour on average","2019-11-18 :  36  bicycle passages per hour on average","2019-11-19 :  47  bicycle passages per hour on average","2019-11-20 :  46  bicycle passages per hour on average","2019-11-21 :  45  bicycle passages per hour on average","2019-11-22 :  45  bicycle passages per hour on average","2019-11-23 :  23  bicycle passages per hour on average","2019-11-24 :  27  bicycle passages per hour on average","2019-11-25 :  43  bicycle passages per hour on average","2019-11-26 :  41  bicycle passages per hour on average","2019-11-27 :  40  bicycle passages per hour on average","2019-11-28 :  44  bicycle passages per hour on average","2019-11-29 :  40  bicycle passages per hour on average","2019-11-30 :  31  bicycle passages per hour on average","2019-12-01 :  19  bicycle passages per hour on average","2019-12-02 :  45  bicycle passages per hour on average","2019-12-03 :  47  bicycle passages per hour on average","2019-12-04 :  53  bicycle passages per hour on average","2019-12-05 :  86  bicycle passages per hour on average","2019-12-06 :  86  bicycle passages per hour on average","2019-12-07 :  69  bicycle passages per hour on average","2019-12-08 :  44  bicycle passages per hour on average","2019-12-09 :  88  bicycle passages per hour on average","2019-12-10 :  112  bicycle passages per hour on average","2019-12-11 :  106  bicycle passages per hour on average","2019-12-12 :  100  bicycle passages per hour on average","2019-12-13 :  98  bicycle passages per hour on average","2019-12-14 :  72  bicycle passages per hour on average","2019-12-15 :  56  bicycle passages per hour on average","2019-12-16 :  96  bicycle passages per hour on average","2019-12-17 :  109  bicycle passages per hour on average","2019-12-18 :  117  bicycle passages per hour on average","2019-12-19 :  114  bicycle passages per hour on average","2019-12-20 :  100  bicycle passages per hour on average","2019-12-21 :  57  bicycle passages per hour on average","2019-12-22 :  39  bicycle passages per hour on average","2019-12-23 :  60  bicycle passages per hour on average","2019-12-24 :  42  bicycle passages per hour on average","2019-12-25 :  20  bicycle passages per hour on average","2019-12-26 :  41  bicycle passages per hour on average","2019-12-27 :  46  bicycle passages per hour on average","2019-12-28 :  39  bicycle passages per hour on average","2019-12-29 :  35  bicycle passages per hour on average","2019-12-30 :  54  bicycle passages per hour on average","2019-12-31 :  51  bicycle passages per hour on average","2020-01-01 :  25  bicycle passages per hour on average","2020-01-02 :  57  bicycle passages per hour on average","2020-01-03 :  63  bicycle passages per hour on average","2020-01-04 :  54  bicycle passages per hour on average","2020-01-05 :  42  bicycle passages per hour on average","2020-01-06 :  93  bicycle passages per hour on average","2020-01-07 :  101  bicycle passages per hour on average","2020-01-08 :  101  bicycle passages per hour on average","2020-01-09 :  95  bicycle passages per hour on average","2020-01-10 :  100  bicycle passages per hour on average","2020-01-11 :  67  bicycle passages per hour on average","2020-01-12 :  47  bicycle passages per hour on average","2020-01-13 :  92  bicycle passages per hour on average","2020-01-14 :  92  bicycle passages per hour on average","2020-01-15 :  87  bicycle passages per hour on average","2020-01-16 :  92  bicycle passages per hour on average","2020-01-17 :  78  bicycle passages per hour on average","2020-01-18 :  54  bicycle passages per hour on average","2020-01-19 :  39  bicycle passages per hour on average","2020-01-20 :  68  bicycle passages per hour on average","2020-01-21 :  67  bicycle passages per hour on average","2020-01-22 :  63  bicycle passages per hour on average","2020-01-23 :  62  bicycle passages per hour on average","2020-01-24 :  76  bicycle passages per hour on average","2020-01-25 :  39  bicycle passages per hour on average","2020-01-26 :  30  bicycle passages per hour on average","2020-01-27 :  44  bicycle passages per hour on average","2020-01-28 :  51  bicycle passages per hour on average","2020-01-29 :  60  bicycle passages per hour on average","2020-01-30 :  52  bicycle passages per hour on average","2020-01-31 :  57  bicycle passages per hour on average","2020-02-01 :  33  bicycle passages per hour on average","2020-02-02 :  23  bicycle passages per hour on average","2020-02-03 :  50  bicycle passages per hour on average","2020-02-04 :  54  bicycle passages per hour on average","2020-02-05 :  59  bicycle passages per hour on average","2020-02-06 :  61  bicycle passages per hour on average","2020-02-07 :  57  bicycle passages per hour on average","2020-02-08 :  30  bicycle passages per hour on average","2020-02-09 :  19  bicycle passages per hour on average","2020-02-10 :  32  bicycle passages per hour on average","2020-02-11 :  45  bicycle passages per hour on average","2020-02-12 :  52  bicycle passages per hour on average","2020-02-13 :  40  bicycle passages per hour on average","2020-02-14 :  49  bicycle passages per hour on average","2020-02-15 :  35  bicycle passages per hour on average","2020-02-16 :  23  bicycle passages per hour on average","2020-02-17 :  48  bicycle passages per hour on average","2020-02-18 :  54  bicycle passages per hour on average","2020-02-19 :  49  bicycle passages per hour on average","2020-02-20 :  45  bicycle passages per hour on average","2020-02-21 :  50  bicycle passages per hour on average","2020-02-22 :  37  bicycle passages per hour on average","2020-02-23 :  28  bicycle passages per hour on average","2020-02-24 :  56  bicycle passages per hour on average","2020-02-25 :  54  bicycle passages per hour on average","2020-02-26 :  49  bicycle passages per hour on average","2020-02-27 :  38  bicycle passages per hour on average","2020-02-28 :  50  bicycle passages per hour on average","2020-02-29 :  31  bicycle passages per hour on average","2020-03-01 :  16  bicycle passages per hour on average","2020-03-02 :  42  bicycle passages per hour on average","2020-03-03 :  62  bicycle passages per hour on average","2020-03-04 :  55  bicycle passages per hour on average","2020-03-05 :  38  bicycle passages per hour on average","2020-03-06 :  56  bicycle passages per hour on average","2020-03-07 :  41  bicycle passages per hour on average","2020-03-08 :  22  bicycle passages per hour on average","2020-03-09 :  58  bicycle passages per hour on average","2020-03-10 :  61  bicycle passages per hour on average","2020-03-11 :  68  bicycle passages per hour on average","2020-03-12 :  62  bicycle passages per hour on average","2020-03-13 :  66  bicycle passages per hour on average","2020-03-14 :  35  bicycle passages per hour on average","2020-03-15 :  40  bicycle passages per hour on average","2020-03-16 :  41  bicycle passages per hour on average","2020-03-17 :  20  bicycle passages per hour on average","2020-03-18 :  14  bicycle passages per hour on average","2020-03-19 :  14  bicycle passages per hour on average","2020-03-20 :  11  bicycle passages per hour on average","2020-03-21 :  6  bicycle passages per hour on average","2020-03-22 :  5  bicycle passages per hour on average","2020-03-23 :  10  bicycle passages per hour on average","2020-03-24 :  10  bicycle passages per hour on average","2020-03-25 :  10  bicycle passages per hour on average","2020-03-26 :  10  bicycle passages per hour on average","2020-03-27 :  10  bicycle passages per hour on average","2020-03-28 :  6  bicycle passages per hour on average","2020-03-29 :  4  bicycle passages per hour on average","2020-03-30 :  9  bicycle passages per hour on average","2020-03-31 :  10  bicycle passages per hour on average","2020-04-01 :  11  bicycle passages per hour on average","2020-04-02 :  11  bicycle passages per hour on average","2020-04-03 :  11  bicycle passages per hour on average","2020-04-04 :  8  bicycle passages per hour on average","2020-04-05 :  6  bicycle passages per hour on average","2020-04-06 :  10  bicycle passages per hour on average","2020-04-07 :  13  bicycle passages per hour on average","2020-04-08 :  13  bicycle passages per hour on average","2020-04-09 :  13  bicycle passages per hour on average","2020-04-10 :  14  bicycle passages per hour on average","2020-04-11 :  8  bicycle passages per hour on average","2020-04-12 :  6  bicycle passages per hour on average","2020-04-13 :  7  bicycle passages per hour on average","2020-04-14 :  13  bicycle passages per hour on average","2020-04-15 :  14  bicycle passages per hour on average","2020-04-16 :  15  bicycle passages per hour on average","2020-04-17 :  16  bicycle passages per hour on average","2020-04-18 :  10  bicycle passages per hour on average","2020-04-19 :  8  bicycle passages per hour on average","2020-04-20 :  15  bicycle passages per hour on average","2020-04-21 :  17  bicycle passages per hour on average","2020-04-22 :  17  bicycle passages per hour on average","2020-04-23 :  18  bicycle passages per hour on average","2020-04-24 :  17  bicycle passages per hour on average","2020-04-25 :  12  bicycle passages per hour on average","2020-04-26 :  11  bicycle passages per hour on average","2020-04-27 :  17  bicycle passages per hour on average","2020-04-28 :  16  bicycle passages per hour on average","2020-04-29 :  14  bicycle passages per hour on average","2020-04-30 :  15  bicycle passages per hour on average","2020-05-01 :  10  bicycle passages per hour on average","2020-05-02 :  14  bicycle passages per hour on average","2020-05-03 :  10  bicycle passages per hour on average","2020-05-04 :  20  bicycle passages per hour on average","2020-05-05 :  17  bicycle passages per hour on average","2020-05-06 :  24  bicycle passages per hour on average","2020-05-07 :  25  bicycle passages per hour on average","2020-05-08 :  18  bicycle passages per hour on average","2020-05-09 :  15  bicycle passages per hour on average","2020-05-10 :  14  bicycle passages per hour on average","2020-05-11 :  46  bicycle passages per hour on average","2020-05-12 :  58  bicycle passages per hour on average","2020-05-13 :  59  bicycle passages per hour on average","2020-05-14 :  61  bicycle passages per hour on average","2020-05-15 :  65  bicycle passages per hour on average","2020-05-16 :  69  bicycle passages per hour on average","2020-05-17 :  67  bicycle passages per hour on average","2020-05-18 :  67  bicycle passages per hour on average","2020-05-19 :  75  bicycle passages per hour on average","2020-05-20 :  81  bicycle passages per hour on average","2020-05-21 :  77  bicycle passages per hour on average","2020-05-22 :  69  bicycle passages per hour on average","2020-05-23 :  64  bicycle passages per hour on average","2020-05-24 :  68  bicycle passages per hour on average","2020-05-25 :  74  bicycle passages per hour on average","2020-05-26 :  87  bicycle passages per hour on average","2020-05-27 :  88  bicycle passages per hour on average","2020-05-28 :  88  bicycle passages per hour on average","2020-05-29 :  90  bicycle passages per hour on average","2020-05-30 :  87  bicycle passages per hour on average","2020-05-31 :  77  bicycle passages per hour on average","2020-06-01 :  80  bicycle passages per hour on average","2020-06-02 :  99  bicycle passages per hour on average","2020-06-03 :  92  bicycle passages per hour on average","2020-06-04 :  58  bicycle passages per hour on average","2020-06-05 :  70  bicycle passages per hour on average","2020-06-06 :  73  bicycle passages per hour on average","2020-06-07 :  56  bicycle passages per hour on average","2020-06-08 :  78  bicycle passages per hour on average","2020-06-09 :  92  bicycle passages per hour on average","2020-06-10 :  97  bicycle passages per hour on average","2020-06-11 :  91  bicycle passages per hour on average","2020-06-12 :  66  bicycle passages per hour on average","2020-06-13 :  80  bicycle passages per hour on average","2020-06-14 :  64  bicycle passages per hour on average","2020-06-15 :  87  bicycle passages per hour on average","2020-06-16 :  95  bicycle passages per hour on average","2020-06-17 :  98  bicycle passages per hour on average","2020-06-18 :  96  bicycle passages per hour on average","2020-06-19 :  88  bicycle passages per hour on average","2020-06-20 :  80  bicycle passages per hour on average","2020-06-21 :  60  bicycle passages per hour on average","2020-06-22 :  96  bicycle passages per hour on average","2020-06-23 :  111  bicycle passages per hour on average","2020-06-24 :  109  bicycle passages per hour on average","2020-06-25 :  107  bicycle passages per hour on average","2020-06-26 :  89  bicycle passages per hour on average","2020-06-27 :  68  bicycle passages per hour on average","2020-06-28 :  65  bicycle passages per hour on average","2020-06-29 :  98  bicycle passages per hour on average","2020-06-30 :  108  bicycle passages per hour on average","2020-07-01 :  98  bicycle passages per hour on average","2020-07-02 :  102  bicycle passages per hour on average","2020-07-03 :  98  bicycle passages per hour on average","2020-07-04 :  70  bicycle passages per hour on average","2020-07-05 :  56  bicycle passages per hour on average","2020-07-06 :  94  bicycle passages per hour on average","2020-07-07 :  108  bicycle passages per hour on average","2020-07-08 :  108  bicycle passages per hour on average","2020-07-09 :  104  bicycle passages per hour on average","2020-07-10 :  85  bicycle passages per hour on average","2020-07-11 :  60  bicycle passages per hour on average","2020-07-12 :  51  bicycle passages per hour on average","2020-07-13 :  61  bicycle passages per hour on average","2020-07-14 :  46  bicycle passages per hour on average","2020-07-15 :  85  bicycle passages per hour on average","2020-07-16 :  88  bicycle passages per hour on average","2020-07-17 :  87  bicycle passages per hour on average","2020-07-18 :  71  bicycle passages per hour on average","2020-07-19 :  60  bicycle passages per hour on average","2020-07-20 :  85  bicycle passages per hour on average","2020-07-21 :  96  bicycle passages per hour on average","2020-07-22 :  97  bicycle passages per hour on average","2020-07-23 :  95  bicycle passages per hour on average","2020-07-24 :  83  bicycle passages per hour on average","2020-07-25 :  60  bicycle passages per hour on average","2020-07-26 :  54  bicycle passages per hour on average","2020-07-27 :  79  bicycle passages per hour on average","2020-07-28 :  87  bicycle passages per hour on average","2020-07-29 :  88  bicycle passages per hour on average","2020-07-30 :  83  bicycle passages per hour on average","2020-07-31 :  61  bicycle passages per hour on average","2020-08-01 :  53  bicycle passages per hour on average","2020-08-02 :  47  bicycle passages per hour on average","2020-08-03 :  58  bicycle passages per hour on average","2020-08-04 :  68  bicycle passages per hour on average","2020-08-05 :  66  bicycle passages per hour on average","2020-08-06 :  61  bicycle passages per hour on average","2020-08-07 :  50  bicycle passages per hour on average","2020-08-08 :  37  bicycle passages per hour on average","2020-08-09 :  29  bicycle passages per hour on average","2020-08-10 :  45  bicycle passages per hour on average","2020-08-11 :  43  bicycle passages per hour on average","2020-08-12 :  44  bicycle passages per hour on average","2020-08-13 :  44  bicycle passages per hour on average","2020-08-14 :  41  bicycle passages per hour on average","2020-08-15 :  39  bicycle passages per hour on average","2020-08-16 :  28  bicycle passages per hour on average","2020-08-17 :  45  bicycle passages per hour on average","2020-08-18 :  59  bicycle passages per hour on average","2020-08-19 :  50  bicycle passages per hour on average","2020-08-20 :  59  bicycle passages per hour on average","2020-08-21 :  55  bicycle passages per hour on average","2020-08-22 :  46  bicycle passages per hour on average","2020-08-23 :  45  bicycle passages per hour on average","2020-08-24 :  66  bicycle passages per hour on average","2020-08-25 :  68  bicycle passages per hour on average","2020-08-26 :  81  bicycle passages per hour on average","2020-08-27 :  80  bicycle passages per hour on average","2020-08-28 :  67  bicycle passages per hour on average","2020-08-29 :  46  bicycle passages per hour on average","2020-08-30 :  39  bicycle passages per hour on average","2020-08-31 :  89  bicycle passages per hour on average","2020-09-01 :  101  bicycle passages per hour on average","2020-09-02 :  105  bicycle passages per hour on average","2020-09-03 :  108  bicycle passages per hour on average","2020-09-04 :  104  bicycle passages per hour on average","2020-09-05 :  72  bicycle passages per hour on average","2020-09-06 :  58  bicycle passages per hour on average","2020-09-07 :  102  bicycle passages per hour on average","2020-09-08 :  111  bicycle passages per hour on average","2020-09-09 :  112  bicycle passages per hour on average","2020-09-10 :  112  bicycle passages per hour on average","2020-09-11 :  104  bicycle passages per hour on average","2020-09-12 :  80  bicycle passages per hour on average","2020-09-13 :  70  bicycle passages per hour on average","2020-09-14 :  103  bicycle passages per hour on average","2020-09-15 :  114  bicycle passages per hour on average","2020-09-16 :  114  bicycle passages per hour on average","2020-09-17 :  116  bicycle passages per hour on average","2020-09-18 :  109  bicycle passages per hour on average","2020-09-19 :  74  bicycle passages per hour on average","2020-09-20 :  65  bicycle passages per hour on average","2020-09-21 :  105  bicycle passages per hour on average","2020-09-22 :  125  bicycle passages per hour on average"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"fill":"tozeroy","mode":"lines","type":"scatter","marker":{"color":"rgba(255,0,255,1)","line":{"color":"rgba(255,0,255,1)"}},"textfont":{"color":"rgba(255,0,255,1)"},"error_y":{"color":"rgba(255,0,255,1)"},"error_x":{"color":"rgba(255,0,255,1)"},"line":{"color":"rgba(255,0,255,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This shows the special characteristics of 2020. To highlight the first lockdown visible in the data, vertical lines can be added using <a href="https://plotly.com/r/horizontal-vertical-shapes/">documentation</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>vline <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">color =</span> <span class="st">"royalblue"</span>) {</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">list</span>(</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">type =</span> <span class="st">"line"</span>,</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">y0 =</span> <span class="dv">0</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">y1 =</span> <span class="dv">1</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">yref =</span> <span class="st">"paper"</span>,</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x0 =</span> x,</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">x1 =</span> x,</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> color, <span class="at">dash=</span><span class="st">"dot"</span>)</span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>fig4 <span class="sc">%&gt;%</span> <span class="fu">layout</span>(<span class="at">shapes =</span> <span class="fu">list</span>(<span class="fu">vline</span>(<span class="st">"2020-03-17"</span>), <span class="fu">vline</span>(<span class="st">"2020-05-11"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a8b09e98706cda94fe89" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a8b09e98706cda94fe89">{"x":{"visdat":{"6d956df84324":["function () ","plotlyVisDat"]},"cur_data":"6d956df84324","attrs":{"6d956df84324":{"x":{},"y":{},"hovertemplate":{},"hoverinfo":"text","fill":"tozeroy","mode":"lines","color":["magenta"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Average daily bicycle counts","xaxis":{"domain":[0,1],"automargin":true,"title":"Counting date and time (Day)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Average hourly count per day<br />over the selected period"},"shapes":[{"type":"line","y0":0,"y1":1,"yref":"paper","x0":"2020-03-17","x1":"2020-03-17","line":{"color":"royalblue","dash":"dot"}},{"type":"line","y0":0,"y1":1,"yref":"paper","x0":"2020-05-11","x1":"2020-05-11","line":{"color":"royalblue","dash":"dot"}}],"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"fillcolor":"rgba(255,0,255,0.5)","x":["2019-08-01","2019-08-02","2019-08-03","2019-08-04","2019-08-05","2019-08-06","2019-08-07","2019-08-08","2019-08-09","2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14","2019-08-15","2019-08-16","2019-08-17","2019-08-18","2019-08-19","2019-08-20","2019-08-21","2019-08-22","2019-08-23","2019-08-24","2019-08-25","2019-08-26","2019-08-27","2019-08-28","2019-08-29","2019-08-30","2019-08-31","2019-09-01","2019-09-02","2019-09-03","2019-09-04","2019-09-05","2019-09-06","2019-09-07","2019-09-08","2019-09-09","2019-09-10","2019-09-11","2019-09-12","2019-09-13","2019-09-14","2019-09-15","2019-09-16","2019-09-17","2019-09-18","2019-09-19","2019-09-20","2019-09-21","2019-09-22","2019-09-23","2019-09-24","2019-09-25","2019-09-26","2019-09-27","2019-09-28","2019-09-29","2019-09-30","2019-10-01","2019-10-02","2019-10-03","2019-10-04","2019-10-05","2019-10-06","2019-10-07","2019-10-08","2019-10-09","2019-10-10","2019-10-11","2019-10-12","2019-10-13","2019-10-14","2019-10-15","2019-10-16","2019-10-17","2019-10-18","2019-10-19","2019-10-20","2019-10-21","2019-10-22","2019-10-23","2019-10-24","2019-10-25","2019-10-26","2019-10-27","2019-10-28","2019-10-29","2019-10-30","2019-10-31","2019-11-01","2019-11-02","2019-11-03","2019-11-04","2019-11-05","2019-11-06","2019-11-07","2019-11-08","2019-11-09","2019-11-10","2019-11-11","2019-11-12","2019-11-13","2019-11-14","2019-11-15","2019-11-16","2019-11-17","2019-11-18","2019-11-19","2019-11-20","2019-11-21","2019-11-22","2019-11-23","2019-11-24","2019-11-25","2019-11-26","2019-11-27","2019-11-28","2019-11-29","2019-11-30","2019-12-01","2019-12-02","2019-12-03","2019-12-04","2019-12-05","2019-12-06","2019-12-07","2019-12-08","2019-12-09","2019-12-10","2019-12-11","2019-12-12","2019-12-13","2019-12-14","2019-12-15","2019-12-16","2019-12-17","2019-12-18","2019-12-19","2019-12-20","2019-12-21","2019-12-22","2019-12-23","2019-12-24","2019-12-25","2019-12-26","2019-12-27","2019-12-28","2019-12-29","2019-12-30","2019-12-31","2020-01-01","2020-01-02","2020-01-03","2020-01-04","2020-01-05","2020-01-06","2020-01-07","2020-01-08","2020-01-09","2020-01-10","2020-01-11","2020-01-12","2020-01-13","2020-01-14","2020-01-15","2020-01-16","2020-01-17","2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02","2020-02-03","2020-02-04","2020-02-05","2020-02-06","2020-02-07","2020-02-08","2020-02-09","2020-02-10","2020-02-11","2020-02-12","2020-02-13","2020-02-14","2020-02-15","2020-02-16","2020-02-17","2020-02-18","2020-02-19","2020-02-20","2020-02-21","2020-02-22","2020-02-23","2020-02-24","2020-02-25","2020-02-26","2020-02-27","2020-02-28","2020-02-29","2020-03-01","2020-03-02","2020-03-03","2020-03-04","2020-03-05","2020-03-06","2020-03-07","2020-03-08","2020-03-09","2020-03-10","2020-03-11","2020-03-12","2020-03-13","2020-03-14","2020-03-15","2020-03-16","2020-03-17","2020-03-18","2020-03-19","2020-03-20","2020-03-21","2020-03-22","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20","2020-04-21","2020-04-22","2020-04-23","2020-04-24","2020-04-25","2020-04-26","2020-04-27","2020-04-28","2020-04-29","2020-04-30","2020-05-01","2020-05-02","2020-05-03","2020-05-04","2020-05-05","2020-05-06","2020-05-07","2020-05-08","2020-05-09","2020-05-10","2020-05-11","2020-05-12","2020-05-13","2020-05-14","2020-05-15","2020-05-16","2020-05-17","2020-05-18","2020-05-19","2020-05-20","2020-05-21","2020-05-22","2020-05-23","2020-05-24","2020-05-25","2020-05-26","2020-05-27","2020-05-28","2020-05-29","2020-05-30","2020-05-31","2020-06-01","2020-06-02","2020-06-03","2020-06-04","2020-06-05","2020-06-06","2020-06-07","2020-06-08","2020-06-09","2020-06-10","2020-06-11","2020-06-12","2020-06-13","2020-06-14","2020-06-15","2020-06-16","2020-06-17","2020-06-18","2020-06-19","2020-06-20","2020-06-21","2020-06-22","2020-06-23","2020-06-24","2020-06-25","2020-06-26","2020-06-27","2020-06-28","2020-06-29","2020-06-30","2020-07-01","2020-07-02","2020-07-03","2020-07-04","2020-07-05","2020-07-06","2020-07-07","2020-07-08","2020-07-09","2020-07-10","2020-07-11","2020-07-12","2020-07-13","2020-07-14","2020-07-15","2020-07-16","2020-07-17","2020-07-18","2020-07-19","2020-07-20","2020-07-21","2020-07-22","2020-07-23","2020-07-24","2020-07-25","2020-07-26","2020-07-27","2020-07-28","2020-07-29","2020-07-30","2020-07-31","2020-08-01","2020-08-02","2020-08-03","2020-08-04","2020-08-05","2020-08-06","2020-08-07","2020-08-08","2020-08-09","2020-08-10","2020-08-11","2020-08-12","2020-08-13","2020-08-14","2020-08-15","2020-08-16","2020-08-17","2020-08-18","2020-08-19","2020-08-20","2020-08-21","2020-08-22","2020-08-23","2020-08-24","2020-08-25","2020-08-26","2020-08-27","2020-08-28","2020-08-29","2020-08-30","2020-08-31","2020-09-01","2020-09-02","2020-09-03","2020-09-04","2020-09-05","2020-09-06","2020-09-07","2020-09-08","2020-09-09","2020-09-10","2020-09-11","2020-09-12","2020-09-13","2020-09-14","2020-09-15","2020-09-16","2020-09-17","2020-09-18","2020-09-19","2020-09-20","2020-09-21","2020-09-22"],"y":[46.661835748792271,39.979629629629628,30.704629629629629,28.925000000000001,35.982407407407408,29.891666666666666,37.286111111111111,37.037037037037038,22.18148148148148,25.862962962962964,22.001851851851853,26.125,30.00462962962963,29.701851851851853,21.108333333333334,25.344444444444445,9.6527777777777786,15.361111111111111,33.24351851851852,37.18333333333333,39.560185185185183,40.56388888888889,38.187962962962963,31.150925925925925,30.399074074074075,42.728703703703701,47.466666666666669,48.859259259259261,51.117592592592594,50.704629629629629,38.327777777777776,35.503703703703707,55.248148148148147,61.775925925925925,63.904085257548843,62.263297872340424,58.98936170212766,43.624113475177303,38.968085106382979,63.299645390070921,64.641843971631204,60.090425531914896,63.546985815602838,105.88297872340425,48.36790780141844,42.269503546099294,60.695921985815602,63.376773049645394,62.710992907801419,62.375886524822697,60.618794326241137,49.289007092198581,26.778368794326241,59.483156028368796,51.758865248226954,52.188829787234042,61.057624113475178,61.343085106382979,46.443262411347519,24.921099290780141,62.890957446808514,52.997340425531917,64.467198581560282,66.084219858156033,59.300531914893618,38.094858156028366,32.233156028368796,62.170212765957444,39.300531914893618,48.559397163120565,66.060283687943269,65.076241134751768,48.659574468085104,43.809397163120565,58.243794326241137,60.690602836879435,47.842198581560282,56.785460992907801,57.578900709219859,35.429078014184398,19.090425531914892,50.518617021276597,56.712765957446805,56.671985815602838,58.515070921985817,54.227836879432623,45.709219858156025,19.128584643848288,48.896276595744681,45.395390070921984,46.834426229508196,42.218137254901961,18.567716535433071,26.141509433962263,17.773584905660378,45.207890743550834,51.723542116630668,47.173180592991912,46.490044958253051,45.997509339975096,27.439676616915424,16.98320895522388,17.654850746268657,41.258706467661689,44.716738197424895,45.9977103606182,20.712328767123289,26.022831050228312,26.019977168949772,36.171232876712331,46.531392694063925,45.907534246575345,44.981164383561641,45.083333333333336,23.219178082191782,26.851027397260275,42.986872146118721,41.310502283105023,39.544520547945204,44.123858447488587,39.8824200913242,30.706050228310502,18.658105022831052,45.077625570776256,47.345890410958901,52.780251141552512,86.247716894977174,85.6107305936073,69.117009132420094,43.553652968036531,88.373287671232873,112.01976935749587,106.28262017960908,100.39340885684861,97.912551440329224,71.786522633744852,56.227366255144034,96.412037037037038,109.03343621399176,117.21604938271605,113.61265432098766,99.58230452674897,57.083847736625515,38.679012345679013,59.566358024691361,42.470164609053498,20.060699588477366,41.195987654320987,45.794238683127574,38.608539094650205,35.031893004115226,54.221707818930042,51.05144032921811,24.916666666666668,57.274176954732511,63.413580246913583,53.681584362139915,41.928497942386834,93.474794238683131,100.89557613168725,101.48713991769547,94.69855967078189,99.936728395061735,67.454218106995881,47.172325102880656,91.852366255144034,91.631172839506178,86.976337448559676,92.145061728395063,78.256172839506178,54.347736625514401,39.420267489711932,68.269547325102877,67.487654320987659,63.487654320987652,61.875514403292179,76.085905349794245,38.969650205761319,29.531893004115226,43.669238683127574,50.529320987654323,60.186728395061728,51.881687242798357,57.318930041152264,32.970679012345677,22.69650205761317,49.80144032921811,54.17644032921811,58.729423868312757,60.545267489711932,57.253600823045268,30.397633744855966,19.027777777777779,32.267489711934154,44.726424361493123,51.910294117647062,40.098039215686278,48.51911764705882,35.123039215686276,22.841176470588234,48.186274509803923,54.438159156279958,48.872605363984675,45.212164750957854,50.227969348659002,37.377873563218394,27.740900383141764,56.000957854406131,53.844827586206897,49.134099616858236,37.76053639846743,50.299329501915707,30.681513409961685,16.254789272030653,42.487068965517238,61.509578544061306,54.904214559386972,37.742337164750957,56.481800766283527,41.263888888888886,22.39176245210728,57.979406130268202,60.540229885057471,67.638409961685824,62.136015325670499,66.340996168582379,35.012931034482762,40.156130268199234,41.26053639846743,19.506226053639846,13.991379310344827,13.861111111111111,11.171455938697317,5.6015325670498086,4.5799808429118771,10.284003831417625,9.6997126436781613,9.7394636015325666,10.053639846743295,10.373084291187739,6.3630268199233715,3.9273504273504272,9.4559386973180075,10.391283524904214,10.844827586206897,10.713601532567051,11.190613026819923,7.7677203065134099,6.4018199233716473,9.9621647509578537,12.558908045977011,12.622605363984674,12.642720306513411,13.522509578544062,8.4410919540229887,6.4966475095785441,7.4626436781609193,13.392241379310345,14.252394636015326,14.815134099616857,15.533524904214559,9.5205938697318011,8.254789272030651,15.441091954022989,16.551724137931036,17.299808429118773,17.75287356321839,17.448275862068964,11.777777777777779,10.638888888888889,16.55124521072797,16.354406130268199,14.197318007662835,15.068486590038313,10.214080459770114,13.840038314176246,10.208812260536398,20.121647509578544,16.818486590038315,24.165229885057471,25.165229885057471,18.049808429118773,15.090038314176246,13.579022988505747,45.96072796934866,58.452107279693486,59.326628352490424,60.762452107279692,65.068965517241381,69.402298850574709,66.604885057471265,66.579501915708818,75.238026819923377,81.206185567010309,77.480805243445687,68.642322097378283,64.172752808988761,67.561329588014985,74.440543071161045,86.657771535580522,88.301966292134836,88.124531835205985,89.690074906367045,86.576310861423224,76.798220973782776,79.540262172284642,99.220037453183522,91.844101123595507,57.745786516853933,70.140449438202253,73.18539325842697,56.024344569288388,78.393258426966298,92.136235955056179,96.768258426966298,90.567883895131089,66.431179775280896,79.937734082397,63.886704119850187,86.692415730337075,95.099250936329582,97.645131086142328,95.605805243445687,88.013108614232209,79.558052434456926,59.999063670411985,96.441947565543074,110.89700374531836,109.06601123595506,106.55898876404494,89.345037453183522,68.412921348314612,64.732677902621717,97.930243445692881,108.23642322097378,97.531835205992508,102.39700374531836,98.483614232209732,69.695692883895134,56.494850187265918,94.092228464419478,108.43492509363296,108.37453183520599,104.30898876404494,84.68913857677903,60.122659176029963,50.979868913857679,60.956928838951313,46.450842696629216,85.144662921348313,88.322097378277149,87.268258426966298,71.344569288389508,60.182584269662918,84.905898876404493,96.416666666666671,96.504837291116971,94.736403508771929,82.667982456140351,60.403508771929822,54.015789473684208,78.525877192982449,87.224122807017551,87.846052631578942,82.820614035087715,61.337719298245617,53.317105263157892,47.46140350877193,58.142543859649123,67.659649122807011,66.270614035087718,61.2640350877193,50.131578947368418,37.482456140350877,29.381140350877192,44.642105263157895,43.048245614035089,44.075000000000003,43.634649122807019,41.150438596491227,39.246491228070177,28.435964912280703,45.322807017543859,59.274122807017541,49.924999999999997,58.846052631578949,54.673684210526318,45.755263157894738,44.506578947368418,66.155263157894737,67.655263157894737,80.539035087719299,79.966666666666669,66.723245614035093,46.306140350877193,39.43815789473684,89.083771929824564,100.90701754385965,105.06842105263158,107.53815789473684,103.97938596491228,72.147807017543855,57.766228070175437,101.53070175438596,111.13333333333334,112.1530701754386,111.93464912280702,104.05087719298245,80.127631578947373,70.241228070175438,102.58245614035087,114.04780701754386,114.03464912280701,116.32236842105263,108.96798245614035,73.796929824561403,64.776754385964907,105.42280701754386,125.42535885167464],"hovertemplate":["2019-08-01 :  47  bicycle passages per hour on average","2019-08-02 :  40  bicycle passages per hour on average","2019-08-03 :  31  bicycle passages per hour on average","2019-08-04 :  29  bicycle passages per hour on average","2019-08-05 :  36  bicycle passages per hour on average","2019-08-06 :  30  bicycle passages per hour on average","2019-08-07 :  37  bicycle passages per hour on average","2019-08-08 :  37  bicycle passages per hour on average","2019-08-09 :  22  bicycle passages per hour on average","2019-08-10 :  26  bicycle passages per hour on average","2019-08-11 :  22  bicycle passages per hour on average","2019-08-12 :  26  bicycle passages per hour on average","2019-08-13 :  30  bicycle passages per hour on average","2019-08-14 :  30  bicycle passages per hour on average","2019-08-15 :  21  bicycle passages per hour on average","2019-08-16 :  25  bicycle passages per hour on average","2019-08-17 :  10  bicycle passages per hour on average","2019-08-18 :  15  bicycle passages per hour on average","2019-08-19 :  33  bicycle passages per hour on average","2019-08-20 :  37  bicycle passages per hour on average","2019-08-21 :  40  bicycle passages per hour on average","2019-08-22 :  41  bicycle passages per hour on average","2019-08-23 :  38  bicycle passages per hour on average","2019-08-24 :  31  bicycle passages per hour on average","2019-08-25 :  30  bicycle passages per hour on average","2019-08-26 :  43  bicycle passages per hour on average","2019-08-27 :  47  bicycle passages per hour on average","2019-08-28 :  49  bicycle passages per hour on average","2019-08-29 :  51  bicycle passages per hour on average","2019-08-30 :  51  bicycle passages per hour on average","2019-08-31 :  38  bicycle passages per hour on average","2019-09-01 :  36  bicycle passages per hour on average","2019-09-02 :  55  bicycle passages per hour on average","2019-09-03 :  62  bicycle passages per hour on average","2019-09-04 :  64  bicycle passages per hour on average","2019-09-05 :  62  bicycle passages per hour on average","2019-09-06 :  59  bicycle passages per hour on average","2019-09-07 :  44  bicycle passages per hour on average","2019-09-08 :  39  bicycle passages per hour on average","2019-09-09 :  63  bicycle passages per hour on average","2019-09-10 :  65  bicycle passages per hour on average","2019-09-11 :  60  bicycle passages per hour on average","2019-09-12 :  64  bicycle passages per hour on average","2019-09-13 :  106  bicycle passages per hour on average","2019-09-14 :  48  bicycle passages per hour on average","2019-09-15 :  42  bicycle passages per hour on average","2019-09-16 :  61  bicycle passages per hour on average","2019-09-17 :  63  bicycle passages per hour on average","2019-09-18 :  63  bicycle passages per hour on average","2019-09-19 :  62  bicycle passages per hour on average","2019-09-20 :  61  bicycle passages per hour on average","2019-09-21 :  49  bicycle passages per hour on average","2019-09-22 :  27  bicycle passages per hour on average","2019-09-23 :  59  bicycle passages per hour on average","2019-09-24 :  52  bicycle passages per hour on average","2019-09-25 :  52  bicycle passages per hour on average","2019-09-26 :  61  bicycle passages per hour on average","2019-09-27 :  61  bicycle passages per hour on average","2019-09-28 :  46  bicycle passages per hour on average","2019-09-29 :  25  bicycle passages per hour on average","2019-09-30 :  63  bicycle passages per hour on average","2019-10-01 :  53  bicycle passages per hour on average","2019-10-02 :  64  bicycle passages per hour on average","2019-10-03 :  66  bicycle passages per hour on average","2019-10-04 :  59  bicycle passages per hour on average","2019-10-05 :  38  bicycle passages per hour on average","2019-10-06 :  32  bicycle passages per hour on average","2019-10-07 :  62  bicycle passages per hour on average","2019-10-08 :  39  bicycle passages per hour on average","2019-10-09 :  49  bicycle passages per hour on average","2019-10-10 :  66  bicycle passages per hour on average","2019-10-11 :  65  bicycle passages per hour on average","2019-10-12 :  49  bicycle passages per hour on average","2019-10-13 :  44  bicycle passages per hour on average","2019-10-14 :  58  bicycle passages per hour on average","2019-10-15 :  61  bicycle passages per hour on average","2019-10-16 :  48  bicycle passages per hour on average","2019-10-17 :  57  bicycle passages per hour on average","2019-10-18 :  58  bicycle passages per hour on average","2019-10-19 :  35  bicycle passages per hour on average","2019-10-20 :  19  bicycle passages per hour on average","2019-10-21 :  51  bicycle passages per hour on average","2019-10-22 :  57  bicycle passages per hour on average","2019-10-23 :  57  bicycle passages per hour on average","2019-10-24 :  59  bicycle passages per hour on average","2019-10-25 :  54  bicycle passages per hour on average","2019-10-26 :  46  bicycle passages per hour on average","2019-10-27 :  19  bicycle passages per hour on average","2019-10-28 :  49  bicycle passages per hour on average","2019-10-29 :  45  bicycle passages per hour on average","2019-10-30 :  47  bicycle passages per hour on average","2019-10-31 :  42  bicycle passages per hour on average","2019-11-01 :  19  bicycle passages per hour on average","2019-11-02 :  26  bicycle passages per hour on average","2019-11-03 :  18  bicycle passages per hour on average","2019-11-04 :  45  bicycle passages per hour on average","2019-11-05 :  52  bicycle passages per hour on average","2019-11-06 :  47  bicycle passages per hour on average","2019-11-07 :  46  bicycle passages per hour on average","2019-11-08 :  46  bicycle passages per hour on average","2019-11-09 :  27  bicycle passages per hour on average","2019-11-10 :  17  bicycle passages per hour on average","2019-11-11 :  18  bicycle passages per hour on average","2019-11-12 :  41  bicycle passages per hour on average","2019-11-13 :  45  bicycle passages per hour on average","2019-11-14 :  46  bicycle passages per hour on average","2019-11-15 :  21  bicycle passages per hour on average","2019-11-16 :  26  bicycle passages per hour on average","2019-11-17 :  26  bicycle passages per hour on average","2019-11-18 :  36  bicycle passages per hour on average","2019-11-19 :  47  bicycle passages per hour on average","2019-11-20 :  46  bicycle passages per hour on average","2019-11-21 :  45  bicycle passages per hour on average","2019-11-22 :  45  bicycle passages per hour on average","2019-11-23 :  23  bicycle passages per hour on average","2019-11-24 :  27  bicycle passages per hour on average","2019-11-25 :  43  bicycle passages per hour on average","2019-11-26 :  41  bicycle passages per hour on average","2019-11-27 :  40  bicycle passages per hour on average","2019-11-28 :  44  bicycle passages per hour on average","2019-11-29 :  40  bicycle passages per hour on average","2019-11-30 :  31  bicycle passages per hour on average","2019-12-01 :  19  bicycle passages per hour on average","2019-12-02 :  45  bicycle passages per hour on average","2019-12-03 :  47  bicycle passages per hour on average","2019-12-04 :  53  bicycle passages per hour on average","2019-12-05 :  86  bicycle passages per hour on average","2019-12-06 :  86  bicycle passages per hour on average","2019-12-07 :  69  bicycle passages per hour on average","2019-12-08 :  44  bicycle passages per hour on average","2019-12-09 :  88  bicycle passages per hour on average","2019-12-10 :  112  bicycle passages per hour on average","2019-12-11 :  106  bicycle passages per hour on average","2019-12-12 :  100  bicycle passages per hour on average","2019-12-13 :  98  bicycle passages per hour on average","2019-12-14 :  72  bicycle passages per hour on average","2019-12-15 :  56  bicycle passages per hour on average","2019-12-16 :  96  bicycle passages per hour on average","2019-12-17 :  109  bicycle passages per hour on average","2019-12-18 :  117  bicycle passages per hour on average","2019-12-19 :  114  bicycle passages per hour on average","2019-12-20 :  100  bicycle passages per hour on average","2019-12-21 :  57  bicycle passages per hour on average","2019-12-22 :  39  bicycle passages per hour on average","2019-12-23 :  60  bicycle passages per hour on average","2019-12-24 :  42  bicycle passages per hour on average","2019-12-25 :  20  bicycle passages per hour on average","2019-12-26 :  41  bicycle passages per hour on average","2019-12-27 :  46  bicycle passages per hour on average","2019-12-28 :  39  bicycle passages per hour on average","2019-12-29 :  35  bicycle passages per hour on average","2019-12-30 :  54  bicycle passages per hour on average","2019-12-31 :  51  bicycle passages per hour on average","2020-01-01 :  25  bicycle passages per hour on average","2020-01-02 :  57  bicycle passages per hour on average","2020-01-03 :  63  bicycle passages per hour on average","2020-01-04 :  54  bicycle passages per hour on average","2020-01-05 :  42  bicycle passages per hour on average","2020-01-06 :  93  bicycle passages per hour on average","2020-01-07 :  101  bicycle passages per hour on average","2020-01-08 :  101  bicycle passages per hour on average","2020-01-09 :  95  bicycle passages per hour on average","2020-01-10 :  100  bicycle passages per hour on average","2020-01-11 :  67  bicycle passages per hour on average","2020-01-12 :  47  bicycle passages per hour on average","2020-01-13 :  92  bicycle passages per hour on average","2020-01-14 :  92  bicycle passages per hour on average","2020-01-15 :  87  bicycle passages per hour on average","2020-01-16 :  92  bicycle passages per hour on average","2020-01-17 :  78  bicycle passages per hour on average","2020-01-18 :  54  bicycle passages per hour on average","2020-01-19 :  39  bicycle passages per hour on average","2020-01-20 :  68  bicycle passages per hour on average","2020-01-21 :  67  bicycle passages per hour on average","2020-01-22 :  63  bicycle passages per hour on average","2020-01-23 :  62  bicycle passages per hour on average","2020-01-24 :  76  bicycle passages per hour on average","2020-01-25 :  39  bicycle passages per hour on average","2020-01-26 :  30  bicycle passages per hour on average","2020-01-27 :  44  bicycle passages per hour on average","2020-01-28 :  51  bicycle passages per hour on average","2020-01-29 :  60  bicycle passages per hour on average","2020-01-30 :  52  bicycle passages per hour on average","2020-01-31 :  57  bicycle passages per hour on average","2020-02-01 :  33  bicycle passages per hour on average","2020-02-02 :  23  bicycle passages per hour on average","2020-02-03 :  50  bicycle passages per hour on average","2020-02-04 :  54  bicycle passages per hour on average","2020-02-05 :  59  bicycle passages per hour on average","2020-02-06 :  61  bicycle passages per hour on average","2020-02-07 :  57  bicycle passages per hour on average","2020-02-08 :  30  bicycle passages per hour on average","2020-02-09 :  19  bicycle passages per hour on average","2020-02-10 :  32  bicycle passages per hour on average","2020-02-11 :  45  bicycle passages per hour on average","2020-02-12 :  52  bicycle passages per hour on average","2020-02-13 :  40  bicycle passages per hour on average","2020-02-14 :  49  bicycle passages per hour on average","2020-02-15 :  35  bicycle passages per hour on average","2020-02-16 :  23  bicycle passages per hour on average","2020-02-17 :  48  bicycle passages per hour on average","2020-02-18 :  54  bicycle passages per hour on average","2020-02-19 :  49  bicycle passages per hour on average","2020-02-20 :  45  bicycle passages per hour on average","2020-02-21 :  50  bicycle passages per hour on average","2020-02-22 :  37  bicycle passages per hour on average","2020-02-23 :  28  bicycle passages per hour on average","2020-02-24 :  56  bicycle passages per hour on average","2020-02-25 :  54  bicycle passages per hour on average","2020-02-26 :  49  bicycle passages per hour on average","2020-02-27 :  38  bicycle passages per hour on average","2020-02-28 :  50  bicycle passages per hour on average","2020-02-29 :  31  bicycle passages per hour on average","2020-03-01 :  16  bicycle passages per hour on average","2020-03-02 :  42  bicycle passages per hour on average","2020-03-03 :  62  bicycle passages per hour on average","2020-03-04 :  55  bicycle passages per hour on average","2020-03-05 :  38  bicycle passages per hour on average","2020-03-06 :  56  bicycle passages per hour on average","2020-03-07 :  41  bicycle passages per hour on average","2020-03-08 :  22  bicycle passages per hour on average","2020-03-09 :  58  bicycle passages per hour on average","2020-03-10 :  61  bicycle passages per hour on average","2020-03-11 :  68  bicycle passages per hour on average","2020-03-12 :  62  bicycle passages per hour on average","2020-03-13 :  66  bicycle passages per hour on average","2020-03-14 :  35  bicycle passages per hour on average","2020-03-15 :  40  bicycle passages per hour on average","2020-03-16 :  41  bicycle passages per hour on average","2020-03-17 :  20  bicycle passages per hour on average","2020-03-18 :  14  bicycle passages per hour on average","2020-03-19 :  14  bicycle passages per hour on average","2020-03-20 :  11  bicycle passages per hour on average","2020-03-21 :  6  bicycle passages per hour on average","2020-03-22 :  5  bicycle passages per hour on average","2020-03-23 :  10  bicycle passages per hour on average","2020-03-24 :  10  bicycle passages per hour on average","2020-03-25 :  10  bicycle passages per hour on average","2020-03-26 :  10  bicycle passages per hour on average","2020-03-27 :  10  bicycle passages per hour on average","2020-03-28 :  6  bicycle passages per hour on average","2020-03-29 :  4  bicycle passages per hour on average","2020-03-30 :  9  bicycle passages per hour on average","2020-03-31 :  10  bicycle passages per hour on average","2020-04-01 :  11  bicycle passages per hour on average","2020-04-02 :  11  bicycle passages per hour on average","2020-04-03 :  11  bicycle passages per hour on average","2020-04-04 :  8  bicycle passages per hour on average","2020-04-05 :  6  bicycle passages per hour on average","2020-04-06 :  10  bicycle passages per hour on average","2020-04-07 :  13  bicycle passages per hour on average","2020-04-08 :  13  bicycle passages per hour on average","2020-04-09 :  13  bicycle passages per hour on average","2020-04-10 :  14  bicycle passages per hour on average","2020-04-11 :  8  bicycle passages per hour on average","2020-04-12 :  6  bicycle passages per hour on average","2020-04-13 :  7  bicycle passages per hour on average","2020-04-14 :  13  bicycle passages per hour on average","2020-04-15 :  14  bicycle passages per hour on average","2020-04-16 :  15  bicycle passages per hour on average","2020-04-17 :  16  bicycle passages per hour on average","2020-04-18 :  10  bicycle passages per hour on average","2020-04-19 :  8  bicycle passages per hour on average","2020-04-20 :  15  bicycle passages per hour on average","2020-04-21 :  17  bicycle passages per hour on average","2020-04-22 :  17  bicycle passages per hour on average","2020-04-23 :  18  bicycle passages per hour on average","2020-04-24 :  17  bicycle passages per hour on average","2020-04-25 :  12  bicycle passages per hour on average","2020-04-26 :  11  bicycle passages per hour on average","2020-04-27 :  17  bicycle passages per hour on average","2020-04-28 :  16  bicycle passages per hour on average","2020-04-29 :  14  bicycle passages per hour on average","2020-04-30 :  15  bicycle passages per hour on average","2020-05-01 :  10  bicycle passages per hour on average","2020-05-02 :  14  bicycle passages per hour on average","2020-05-03 :  10  bicycle passages per hour on average","2020-05-04 :  20  bicycle passages per hour on average","2020-05-05 :  17  bicycle passages per hour on average","2020-05-06 :  24  bicycle passages per hour on average","2020-05-07 :  25  bicycle passages per hour on average","2020-05-08 :  18  bicycle passages per hour on average","2020-05-09 :  15  bicycle passages per hour on average","2020-05-10 :  14  bicycle passages per hour on average","2020-05-11 :  46  bicycle passages per hour on average","2020-05-12 :  58  bicycle passages per hour on average","2020-05-13 :  59  bicycle passages per hour on average","2020-05-14 :  61  bicycle passages per hour on average","2020-05-15 :  65  bicycle passages per hour on average","2020-05-16 :  69  bicycle passages per hour on average","2020-05-17 :  67  bicycle passages per hour on average","2020-05-18 :  67  bicycle passages per hour on average","2020-05-19 :  75  bicycle passages per hour on average","2020-05-20 :  81  bicycle passages per hour on average","2020-05-21 :  77  bicycle passages per hour on average","2020-05-22 :  69  bicycle passages per hour on average","2020-05-23 :  64  bicycle passages per hour on average","2020-05-24 :  68  bicycle passages per hour on average","2020-05-25 :  74  bicycle passages per hour on average","2020-05-26 :  87  bicycle passages per hour on average","2020-05-27 :  88  bicycle passages per hour on average","2020-05-28 :  88  bicycle passages per hour on average","2020-05-29 :  90  bicycle passages per hour on average","2020-05-30 :  87  bicycle passages per hour on average","2020-05-31 :  77  bicycle passages per hour on average","2020-06-01 :  80  bicycle passages per hour on average","2020-06-02 :  99  bicycle passages per hour on average","2020-06-03 :  92  bicycle passages per hour on average","2020-06-04 :  58  bicycle passages per hour on average","2020-06-05 :  70  bicycle passages per hour on average","2020-06-06 :  73  bicycle passages per hour on average","2020-06-07 :  56  bicycle passages per hour on average","2020-06-08 :  78  bicycle passages per hour on average","2020-06-09 :  92  bicycle passages per hour on average","2020-06-10 :  97  bicycle passages per hour on average","2020-06-11 :  91  bicycle passages per hour on average","2020-06-12 :  66  bicycle passages per hour on average","2020-06-13 :  80  bicycle passages per hour on average","2020-06-14 :  64  bicycle passages per hour on average","2020-06-15 :  87  bicycle passages per hour on average","2020-06-16 :  95  bicycle passages per hour on average","2020-06-17 :  98  bicycle passages per hour on average","2020-06-18 :  96  bicycle passages per hour on average","2020-06-19 :  88  bicycle passages per hour on average","2020-06-20 :  80  bicycle passages per hour on average","2020-06-21 :  60  bicycle passages per hour on average","2020-06-22 :  96  bicycle passages per hour on average","2020-06-23 :  111  bicycle passages per hour on average","2020-06-24 :  109  bicycle passages per hour on average","2020-06-25 :  107  bicycle passages per hour on average","2020-06-26 :  89  bicycle passages per hour on average","2020-06-27 :  68  bicycle passages per hour on average","2020-06-28 :  65  bicycle passages per hour on average","2020-06-29 :  98  bicycle passages per hour on average","2020-06-30 :  108  bicycle passages per hour on average","2020-07-01 :  98  bicycle passages per hour on average","2020-07-02 :  102  bicycle passages per hour on average","2020-07-03 :  98  bicycle passages per hour on average","2020-07-04 :  70  bicycle passages per hour on average","2020-07-05 :  56  bicycle passages per hour on average","2020-07-06 :  94  bicycle passages per hour on average","2020-07-07 :  108  bicycle passages per hour on average","2020-07-08 :  108  bicycle passages per hour on average","2020-07-09 :  104  bicycle passages per hour on average","2020-07-10 :  85  bicycle passages per hour on average","2020-07-11 :  60  bicycle passages per hour on average","2020-07-12 :  51  bicycle passages per hour on average","2020-07-13 :  61  bicycle passages per hour on average","2020-07-14 :  46  bicycle passages per hour on average","2020-07-15 :  85  bicycle passages per hour on average","2020-07-16 :  88  bicycle passages per hour on average","2020-07-17 :  87  bicycle passages per hour on average","2020-07-18 :  71  bicycle passages per hour on average","2020-07-19 :  60  bicycle passages per hour on average","2020-07-20 :  85  bicycle passages per hour on average","2020-07-21 :  96  bicycle passages per hour on average","2020-07-22 :  97  bicycle passages per hour on average","2020-07-23 :  95  bicycle passages per hour on average","2020-07-24 :  83  bicycle passages per hour on average","2020-07-25 :  60  bicycle passages per hour on average","2020-07-26 :  54  bicycle passages per hour on average","2020-07-27 :  79  bicycle passages per hour on average","2020-07-28 :  87  bicycle passages per hour on average","2020-07-29 :  88  bicycle passages per hour on average","2020-07-30 :  83  bicycle passages per hour on average","2020-07-31 :  61  bicycle passages per hour on average","2020-08-01 :  53  bicycle passages per hour on average","2020-08-02 :  47  bicycle passages per hour on average","2020-08-03 :  58  bicycle passages per hour on average","2020-08-04 :  68  bicycle passages per hour on average","2020-08-05 :  66  bicycle passages per hour on average","2020-08-06 :  61  bicycle passages per hour on average","2020-08-07 :  50  bicycle passages per hour on average","2020-08-08 :  37  bicycle passages per hour on average","2020-08-09 :  29  bicycle passages per hour on average","2020-08-10 :  45  bicycle passages per hour on average","2020-08-11 :  43  bicycle passages per hour on average","2020-08-12 :  44  bicycle passages per hour on average","2020-08-13 :  44  bicycle passages per hour on average","2020-08-14 :  41  bicycle passages per hour on average","2020-08-15 :  39  bicycle passages per hour on average","2020-08-16 :  28  bicycle passages per hour on average","2020-08-17 :  45  bicycle passages per hour on average","2020-08-18 :  59  bicycle passages per hour on average","2020-08-19 :  50  bicycle passages per hour on average","2020-08-20 :  59  bicycle passages per hour on average","2020-08-21 :  55  bicycle passages per hour on average","2020-08-22 :  46  bicycle passages per hour on average","2020-08-23 :  45  bicycle passages per hour on average","2020-08-24 :  66  bicycle passages per hour on average","2020-08-25 :  68  bicycle passages per hour on average","2020-08-26 :  81  bicycle passages per hour on average","2020-08-27 :  80  bicycle passages per hour on average","2020-08-28 :  67  bicycle passages per hour on average","2020-08-29 :  46  bicycle passages per hour on average","2020-08-30 :  39  bicycle passages per hour on average","2020-08-31 :  89  bicycle passages per hour on average","2020-09-01 :  101  bicycle passages per hour on average","2020-09-02 :  105  bicycle passages per hour on average","2020-09-03 :  108  bicycle passages per hour on average","2020-09-04 :  104  bicycle passages per hour on average","2020-09-05 :  72  bicycle passages per hour on average","2020-09-06 :  58  bicycle passages per hour on average","2020-09-07 :  102  bicycle passages per hour on average","2020-09-08 :  111  bicycle passages per hour on average","2020-09-09 :  112  bicycle passages per hour on average","2020-09-10 :  112  bicycle passages per hour on average","2020-09-11 :  104  bicycle passages per hour on average","2020-09-12 :  80  bicycle passages per hour on average","2020-09-13 :  70  bicycle passages per hour on average","2020-09-14 :  103  bicycle passages per hour on average","2020-09-15 :  114  bicycle passages per hour on average","2020-09-16 :  114  bicycle passages per hour on average","2020-09-17 :  116  bicycle passages per hour on average","2020-09-18 :  109  bicycle passages per hour on average","2020-09-19 :  74  bicycle passages per hour on average","2020-09-20 :  65  bicycle passages per hour on average","2020-09-21 :  105  bicycle passages per hour on average","2020-09-22 :  125  bicycle passages per hour on average"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"fill":"tozeroy","mode":"lines","type":"scatter","marker":{"color":"rgba(255,0,255,1)","line":{"color":"rgba(255,0,255,1)"}},"textfont":{"color":"rgba(255,0,255,1)"},"error_y":{"color":"rgba(255,0,255,1)"},"error_x":{"color":"rgba(255,0,255,1)"},"line":{"color":"rgba(255,0,255,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Finally, here‚Äôs how to reproduce this figure with <code>Plotly</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> df1 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">fct_reorder</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  df1,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="sc">~</span> <span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>, <span class="at">y =</span> <span class="sc">~</span><span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>,</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">color =</span> <span class="fu">I</span>(<span class="st">"red"</span>),</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">hovertext =</span> <span class="sc">~</span><span class="fu">paste0</span>(<span class="st">`</span><span class="at">Counter name</span><span class="st">`</span>, <span class="st">": "</span>, <span class="fu">round</span>(<span class="st">`</span><span class="at">Hourly count</span><span class="st">`</span>)),</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">'text'</span>,</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'bar'</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">'Main stations'</span>)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">yaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Hourly average'</span>),</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">xaxis =</span> <span class="fu">list</span>(<span class="at">title =</span> <span class="st">'Counter name'</span>, <span class="at">color =</span> <span class="st">"red"</span>)</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-fa0f2bee486d334c383f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-fa0f2bee486d334c383f">{"x":{"visdat":{"6d9557531256":["function () ","plotlyVisDat"]},"cur_data":"6d9557531256","attrs":{"6d9557531256":{"x":{},"y":{},"hovertext":{},"hoverinfo":"text","name":"Main stations","color":["red"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"Hourly average","type":"category","categoryorder":"array","categoryarray":["26 boulevard de M√©nilmontant SE-NO","35 boulevard de Menilmontant NO-SE","21 boulevard Saint Michel S-N","67 boulevard Voltaire SE-NO","72 boulevard Voltaire NO-SE","102 boulevard de Magenta SE-NO","Totem 64 Rue de Rivoli O-E","89 boulevard de Magenta NO-SE","Totem 73 boulevard de S√©bastopol N-S","Totem 73 boulevard de S√©bastopol S-N"]},"xaxis":{"domain":[0,1],"automargin":true,"title":"Counter name","color":"red"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[197.23860689144126,147.89994441356308,144.30319307669353,140.21979211779993,137.19387247587784,124.39136490250696,119.20801830481496,117.73088381330685,117.18064259425047,109.46284691136974],"y":["Totem 73 boulevard de S√©bastopol S-N","Totem 73 boulevard de S√©bastopol N-S","89 boulevard de Magenta NO-SE","Totem 64 Rue de Rivoli O-E","102 boulevard de Magenta SE-NO","72 boulevard Voltaire NO-SE","67 boulevard Voltaire SE-NO","21 boulevard Saint Michel S-N","35 boulevard de Menilmontant NO-SE","26 boulevard de M√©nilmontant SE-NO"],"hovertext":["Totem 73 boulevard de S√©bastopol S-N: 197","Totem 73 boulevard de S√©bastopol N-S: 148","89 boulevard de Magenta NO-SE: 144","Totem 64 Rue de Rivoli O-E: 140","102 boulevard de Magenta SE-NO: 137","72 boulevard Voltaire NO-SE: 124","67 boulevard Voltaire SE-NO: 119","21 boulevard Saint Michel S-N: 118","35 boulevard de Menilmontant NO-SE: 117","26 boulevard de M√©nilmontant SE-NO: 109"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text"],"name":"Main stations","type":"bar","orientation":"h","marker":{"color":"rgba(255,0,0,1)","line":{"color":"rgba(255,0,0,1)"}},"textfont":{"color":"rgba(255,0,0,1)"},"error_y":{"color":"rgba(255,0,0,1)"},"error_x":{"color":"rgba(255,0,0,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercice 7: barplot with <code>Plotly</code>
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>To order bars correctly, use <code>fct_reorder</code> from <code>forcats</code> on the dataframe from exercise 1;</li>
<li>Use <code>Plotly</code> to create your figure;</li>
<li>(Optional, advanced) Produce a <em>lollipop chart</em> with <code>Plotly</code></li>
</ol>
</div>
</div>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Normally, we recommend using the download URL directly to avoid creating an intermediate file on the disk. However, direct import with <code>readr</code> will not work here because the library does not recognize that the file is compressed without the <code>.gz</code> extension.<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p>Note: displaying numbers on bars is not necessarily best practice in <em>dataviz</em>. It can make the scale and data variation less immediately understandable.<a href="#fnref2" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p>I removed the color on the y-axis, which I find adds little to the figure and even detracts from the message‚Äôs clarity.<a href="#fnref3" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Handle positioning of the toggle
      window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>